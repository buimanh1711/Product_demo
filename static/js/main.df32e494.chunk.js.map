{"version":3,"sources":["utils/validate.js","components/SearchModal.js","components/Notification.js","utils/getImage.js","components/Header.js","components/Footer.js","redux/actions/config.js","redux/actions/webActions.js","layouts/MainLayout.js","global/Slick.js","pages/home/collection1.js","pages/home/latest.js","pages/home/invite.js","utils/axios.js","pages/home/index.js","pages/post/filter.js","components/postList.js","components/Pagination.js","pages/post/index.js","pages/me/post.js","pages/sign-in.js","pages/sign-up.js","pages/me/index.js","components/BreadCrumb.js","pages/detail_post/index.js","utils/index.js","utils/toSlug.js","pages/create/index.js","pages/update/index.js","pages/search/index.js","pages/about/index.js","components/Loading.js","redux/reducer.js","redux/store.js","App.js","reportWebVitals.js","index.js"],"names":["nameValidate","value","test","usernameValidate","SearchModal","props","status","useState","check","setCheck","formEl","useRef","inputEl","useEffect","current","focus","className","onClick","toggleSearchForm","ref","onKeyPress","e","key","preventDefault","submit","action","method","autoFocus","onChange","target","trim","length","specialCharsValidate","name","placeholder","Notification","to","path","Header","connect","state","web","asPath","childMenu","setChildMenu","searchForm","setSearchForm","notif","setNotif","mbMenu","setMbMenu","fakeMenu","menu","id","toggleNotif","toggleMobileMenu","map","item","src","alt","logged","getImage","user","userImage","firstName","lastName","Footer","TOGGLE_LOADING","GET_USERINFO","getUserInfo","type","ActionTypes","toggleLoading","payload","MainTemplate","useLocation","pathname","children","MySlick","settings","Collection1","posts","centerPadding","dots","infinite","speed","slidesToShow","slidesToScroll","responsive","breakpoint","index","slug","image","title","description","_id","Latest","console","log","category","toUpperCase","Invite","axios","require","testDeploy","create","baseURL","withCredentials","api","url","data","Home","setPosts","then","res","FilterSelector","setCategory","currentFilter","setCurrentFilter","currentFilterCate","setCurrentFilterCate","currentFilterDate","setCurrentFilterDate","all","categories","sort","filterActive","setFilterActive","filterByCreateDate","sortName","newList","filter","x","query","date","totalFilter","filterAll","categoryId","categoryName","filterByCategory","removeTag","style","color","cursor","total","mapActionToProps","PostList","history","useHistory","comment","setComment","cmtLoading","setCmtLoading","commentList","setCommentList","deleteConfirm","setDeleteConfirm","deletedPost","setDeletedPost","commentEl","getComment","postId","comments","catch","err","display","authorId","author","removeEl","alert","moment","createDate","format","info","search","likeHandle","liked","like","toggleComment","content","postData","commentCount","push","newPostList","slice","newComtList","userId","message","replace","sendComment","Pagination","page","totalPage","pageArr","Array","from","changePage","hidden","borderColor","Post","totalPosts","setTotalPosts","currentPage","setCurrentPage","setTotalPage","currentCate","setCurrentCate","currentDate","setCurrentDate","newPostsData","totalPost","newPosts","likeList","PostId","newLikeList","authorQ","localStorage","getItem","setAuthor","isAuthor","mapActionsToProps","SignUp","usernameErr","logUsernameErr","userData","setUserData","passCheck","setPassCheck","login","setLogin","clear","Cookies","remove","checkValidate","onSubmit","userToken","userInfo","set","expires","setItem","bio","submitHandle","htmlFor","username","password","usernameValidation","required","passValidation","disabled","SignIn","emailErr","logEmailErr","firstNameErr","logFirstNameErr","lastNameErr","logLastNameErr","prePass","setPrePass","token","fontFamily","firstNameValidation","lastNameValidation","email","emailValidate","emailValidation","getPrePass","confirmPass","Me","firstNameEl","lastNameEl","bioEl","oldPassEl","newPassEl","confirmPassEl","changeForm","setChangeForm","getData","file","setFile","oldPassErr","setOldPassErr","newPassErr","setNewPassErr","confirmPassErr","setConfirmPassErr","changingPass","setChangingPass","userPosts","setUserPosts","dispatch","userBio","oldPass","newPass","newInfo","newToken","window","location","reload","selectedFile","files","reader","FileReader","onloadend","result","match","readAsDataURL","formData","FormData","append","newImage","href","BreadCumb","detail","Detail","post","setPost","setComments","relatedPosts","setRelatedPosts","useParams","res2","relatedPost","width","dangerouslySetInnerHTML","__html","source","opacity","fontSize","fontStyle","marginTop","textAlign","class","toSlug","str","toLowerCase","i","RegExp","charAt","defaultValue","Create","setTitle","desc","setDesc","cate","setCate","setCategories","select","setSelect","setContent","titleEl","cateEl","shortDescEl","newCateEl","sourceEl","setTimeout","changeTitle","JSON","parse","changeCate","selected","stringify","marginLeft","changeDesc","editor","ClassicEditor","onReady","event","onBlur","onFocus","currentTitle","currentShortDesc","currentcontent","cateObj","currentSource","newCate","onError","Update","shortDesc","originData","setOriginData","onerror","Search","param","URLSearchParams","get","About","Loading","loading","initState","reducer","indexRuducer","combineReducers","createStore","App","store","axact","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.df32e494.chunk.js","sourcesContent":["export const emailValidate = (value) => {\r\n  if (/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(value)) {\r\n   return true\r\n  } else {\r\n    return false\r\n  }\r\n}\r\n\r\nexport const nameValidate = (value) => {\r\n  if (/^[A-Za-z\\s]+$/.test(value)) {\r\n   return true\r\n  } else {\r\n    return false\r\n  }\r\n}\r\n\r\nexport const usernameValidate = (value) => {\r\n  if (/^[a-zA-Z0-9]+$/.test(value)) {\r\n   return true\r\n  } else {\r\n    return false\r\n  }\r\n}\r\n\r\nexport const specialCharsValidate = (value) => {\r\n  if(/^[a-zA-Z0-9!@#\\$%\\^\\&*\\)\\(+=._-]+$/g.test(value)) {\r\n    return true\r\n  } else {\r\n    return false\r\n  }\r\n}","import { specialCharsValidate } from '../utils/validate'\r\nimport { useState, useRef, useEffect } from 'react'\r\n\r\nconst SearchModal = (props) => {\r\n  const { status } = props || null\r\n  const [check, setCheck] = useState(false)\r\n  const formEl = useRef(null)\r\n  const inputEl = useRef(null)\r\n\r\n  useEffect(() => {\r\n    inputEl.current.focus()\r\n  })\r\n\r\n  const checkQuery = (e) => {\r\n    let value = e.target.value.trim()\r\n    if(value.length > 0 && specialCharsValidate(value)) {\r\n      setCheck(true)\r\n    } else {\r\n      setCheck(false)\r\n    }\r\n  }\r\n\r\n  const submitHandle = (e) => {\r\n    if(e.key === 'Enter' && check) {\r\n      e.preventDefault()\r\n      formEl.current.submit()\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={status ? 'search-modal active' : 'search-modal'}>\r\n      <div className='search-modal-overlay' onClick={props.toggleSearchForm}>\r\n      </div>\r\n      <div className='search-form-container'>\r\n        <form ref={formEl} onKeyPress={submitHandle} action='/search' method='GET'>\r\n          <input ref={inputEl} autoFocus={true} onChange={checkQuery} name='q' placeholder='What are you looking for?' />\r\n        </form>\r\n        <div className='search-footer'>Please enter at least 3 characters</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SearchModal","import { Link } from 'react-router-dom'\r\n\r\nconst Notification = () => {\r\n\r\n  return (\r\n    <div className='notification'>\r\n      <div className='notif-container'>\r\n        <div className='notif-list'>\r\n          <ul>\r\n          <li>\r\n              <Link to='/'>\r\n                Bui Van Manh da say hello ban.\r\n\r\n              </Link>\r\n            </li>\r\n            <li>\r\n              <Link to='/'>\r\n                Bui Van Manh da say hello ban. Bui Van Manh da say hello ban.\r\n              </Link>\r\n            </li>\r\n            <li>\r\n              <Link to='/'>\r\n                Bui Van Manh da say hello ban.\r\n              </Link>\r\n            </li>\r\n            <li>\r\n              <Link to='/'>\r\n                Bui Van Manh da say hello ban.\r\n\r\n              </Link>\r\n            </li>\r\n            <li>\r\n              <Link to='/'>\r\n                Bui Van Manh da say hello ban. Bui Van Manh da say hello ban.\r\n              </Link>\r\n            </li>\r\n            <li>\r\n              <Link to='/'>\r\n                Bui Van Manh da say hello ban.\r\n              </Link>\r\n            </li>\r\n            <li>\r\n              <Link to='/'>\r\n                Bui Van Manh da say hello ban.\r\n              </Link>\r\n            </li>\r\n            <li>\r\n              <Link to='/'>\r\n                Bui Van Manh da say hello ban.\r\n              </Link>\r\n            </li>\r\n            <li>\r\n              <Link to='/'>\r\n                Bui Van Manh da say hello ban.\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","export default (path) => {\r\n  if (path && path !== 'null')\r\n    return `https://manhbui-testdeploy-mblog.herokuapp.com/upload/${path}`\r\n  else\r\n    return '/images/defaultimg.jpg'\r\n}","import { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport SearchModal from './SearchModal'\r\nimport Notification from './Notification'\r\n\r\nimport { connect } from 'react-redux'\r\nimport getImage from '../utils/getImage'\r\n\r\nconst HeaderSelector = (props) => {\r\n  const { asPath, web } = props\r\n  const [childMenu, setChildMenu] = useState(false)\r\n  const [searchForm, setSearchForm] = useState(false)\r\n  const [notif, setNotif] = useState(false)\r\n  const [mbMenu, setMbMenu] = useState(false)\r\n\r\n  const fakeMenu = {\r\n    menu: [\r\n      {\r\n        id: 1,\r\n        name: 'Home',\r\n        path: '/',\r\n      },\r\n      {\r\n        id: 2,\r\n        name: 'Post',\r\n        path: '/posts',\r\n      },\r\n      {\r\n        id: 3,\r\n        name: 'About',\r\n        path: '/about',\r\n      },\r\n    ],\r\n    childMenu: [\r\n      {\r\n        id: 4,\r\n        name: 'Author',\r\n        path: '/author',\r\n      },\r\n      {\r\n        id: 5,\r\n        name: 'About us',\r\n        path: '/about-us',\r\n      },\r\n      {\r\n        id: 6,\r\n        name: 'user',\r\n        path: '/user',\r\n      }\r\n    ]\r\n  }\r\n\r\n  const toggleChildMenu = () => {\r\n    setChildMenu(!childMenu)\r\n  }\r\n\r\n  const toggleSearchForm = () => {\r\n    setSearchForm(!searchForm)\r\n  }\r\n\r\n  const toggleNotif = () => {\r\n    setNotif(!notif)\r\n  }\r\n\r\n  const toggleMobileMenu = () => {\r\n    setMbMenu(!mbMenu)\r\n  }\r\n\r\n  return (\r\n\r\n    <>\r\n      <div className='header'>\r\n        <div className='header-container'>\r\n          <SearchModal toggleSearchForm={toggleSearchForm} status={searchForm ? true : false} />\r\n          <ul className='header-menu'>\r\n            {\r\n              fakeMenu.menu.map(item =>\r\n                <li key={item.id} className={item.path === asPath ? 'header-menu-item active' : 'header-menu-item'}>\r\n                  <Link to={item.path}>\r\n                    {item.name}\r\n                  </Link>\r\n                </li>\r\n              )\r\n            }\r\n            <li onClick={toggleChildMenu} className='header-menu-item-icon'>\r\n              <i className=\"fas fa-ellipsis-h\"></i>\r\n              <div className={childMenu ? 'header-child-menu-container active' : 'header-child-menu-container'}>\r\n                <ul className='header-child-menu'>\r\n                  {\r\n                    fakeMenu.childMenu.map(item =>\r\n                      <li key={item.id} className='header-child-menu-item'>\r\n                        <Link to={item.path}>\r\n                          {item.name}\r\n                        </Link>\r\n                      </li>\r\n                    )\r\n                  }\r\n                </ul>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n          <div className='header-logo-container'>\r\n            <Link to='/'>\r\n              <img src='/images/pageLogo.png' id='site-logo' alt='MBlog' />\r\n            </Link>\r\n          </div>\r\n          <div className='right-side-container'>\r\n            <Link to='/posts/create' className='header-create'>\r\n              <span>Create post</span>\r\n              <i className=\"fas fa-feather\"></i>\r\n            </Link>\r\n            {\r\n              web.logged &&\r\n              <div className='notif-btn-container'>\r\n                <button onClick={toggleNotif} className='notif-btn'>\r\n                  <span>10</span>\r\n                  <i className=\"far fa-bell\"></i>\r\n                </button>\r\n                {\r\n                  notif &&\r\n                  <Notification />\r\n                }\r\n              </div>\r\n            }\r\n            <button onClick={setSearchForm} className='search-btn'>\r\n              <i className=\"fas fa-search\"></i>\r\n            </button>\r\n            {\r\n              !web.logged ?\r\n                <div className='sign-container'>\r\n                  <Link to='/sign-in' className='sign-btn'>\r\n                    Sign in\r\n                  </Link>\r\n                  <Link to='/sign-up' className='sign-btn active'>\r\n                    Sign up\r\n                  </Link>\r\n                </div>\r\n                :\r\n                <div className='user-profile'>\r\n                  <img className='user-avt' src={getImage(web.user.userImage)} alt='user' />\r\n                  <Link to='/me'>\r\n                    {`${web.user.firstName} ${web.user.lastName}`}\r\n                  </Link>\r\n                </div>\r\n            }\r\n          </div>\r\n        </div>\r\n\r\n\r\n\r\n        {/* MOBILE */}\r\n        <div className='mb-header-container'>\r\n          <div onClick={toggleMobileMenu} className={mbMenu ? 'header-overlay active' : 'header-overlay'}></div>\r\n          <div className={mbMenu ? 'mb-side-menu active' : 'mb-side-menu'}>\r\n            <div className='mb-side-menu-header'>\r\n              <i onClick={toggleMobileMenu} className=\"fas fa-times hide-side-menu-icon\"></i>\r\n              {\r\n                !web.logged ?\r\n                  <div className='mb-sign-container'>\r\n                    <Link to='/sign-up' className='mb-sign-btn'>\r\n                      Sign up\r\n                    </Link>\r\n                    <Link to='/sign-in' className='mb-sign-btn active'>\r\n                      Sign in\r\n                    </Link>\r\n                  </div>\r\n                  :\r\n                  <div className='user-profile'>\r\n                    <img className='user-avt' src={getImage(web.user.userImage)} alt='user' />\r\n                    <Link to='/me'>\r\n                      {`${web.user.firstName} ${web.user.lastName}`}\r\n                    </Link>\r\n                  </div>\r\n              }\r\n            </div>\r\n            <input placeholder='Search...' className='mb-search' />\r\n            <ul className='mb-header-menu'>\r\n              {\r\n                fakeMenu.menu.map(item =>\r\n                  <li key={item.id} className={item.path === asPath ? 'mb-header-menu-item active' : 'mb-header-menu-item'}>\r\n                    <Link to={item.path}>\r\n                      {item.name}\r\n                    </Link>\r\n                  </li>\r\n                )\r\n              }\r\n              {\r\n                fakeMenu.childMenu.map(item =>\r\n                  <li key={item.id} className={item.path === asPath ? 'mb-header-menu-item active' : 'mb-header-menu-item'}>\r\n                    <Link to={item.path}>\r\n                      {item.name}\r\n                    </Link>\r\n                  </li>\r\n                )\r\n              }\r\n            </ul>\r\n          </div>\r\n          <div className='mb-header-logo-container'>\r\n            <Link to='/'>\r\n              <img src='/images/pageLogo.png' id='site-logo' alt='MBlog' />\r\n            </Link>\r\n          </div>\r\n          {\r\n            web.logged &&\r\n            <div className='mb notif-btn-container'>\r\n              <button onClick={toggleNotif} className='mb notif-btn'>\r\n                <span>10</span>\r\n                <i className=\"far fa-bell\"></i>\r\n              </button>\r\n              {\r\n                notif &&\r\n                <Notification />\r\n              }\r\n            </div>\r\n          }\r\n          <button onClick={toggleMobileMenu} className='mb-menu-btn active'>\r\n            <i className=\"fas fa-bars\"></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    web: state.web\r\n  }\r\n}\r\n\r\nconst Header = connect(mapStateToProps)(HeaderSelector)\r\n\r\nexport default Header","import { Link } from 'react-router-dom'\r\n\r\nconst Footer = () => {\r\n\r\n    return (\r\n        <>\r\n            <div id='footer'>\r\n                <div className='footer-container'>\r\n                    <div className='footer-data'>\r\n                        <div className='footer-logo'>\r\n                            <Link to='/'>\r\n                                <img src='/images/pageLogo.png' alt='logo' />\r\n                            </Link>\r\n                        </div>\r\n                        <p className='footer-desc'>\r\n                            A minimal, functional theme for running a paid-membership publication on Ghost.\r\n                        </p>\r\n                        <div className='footer-networks'>\r\n                            <Link to='/'>\r\n                                <i className=\"fab fa-facebook\"></i>\r\n                            </Link>\r\n                            <Link to='/'>\r\n                                <i className=\"fab fa-youtube\"></i>\r\n                            </Link>\r\n                            <Link to='/'>\r\n                                <i className=\"fab fa-instagram\"></i>\r\n                            </Link>\r\n                            <Link to='/'>\r\n                                <i className=\"fab fa-twitter\"></i>\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                    <div className='footer-menu'>\r\n                        <ul>\r\n                            <li className='title'>About</li>\r\n                            <li>\r\n                                <Link to='/'>\r\n                                    About\r\n                                </Link>\r\n                            </li>\r\n                            <li>\r\n                                <Link to='/'>\r\n                                    About\r\n                                </Link>\r\n                            </li>\r\n                            <li>\r\n                                <Link to='/'>\r\n                                    About\r\n                                </Link>\r\n                            </li>\r\n                            <li>\r\n                                <Link to='/'>\r\n                                    About\r\n                                </Link>\r\n                            </li>\r\n                        </ul>\r\n                        <ul>\r\n                            <li className='title'>About</li>\r\n                            <li>\r\n                                <Link to='/'>\r\n                                    About\r\n                                </Link>\r\n                            </li>\r\n                            <li>\r\n                                <Link to='/'>\r\n                                    About\r\n                                </Link>\r\n                            </li>\r\n                            <li>\r\n                                <Link to='/'>\r\n                                    About\r\n                                </Link>\r\n                            </li>\r\n                            <li>\r\n                                <Link to='/'>\r\n                                    About\r\n                                </Link>\r\n                            </li>\r\n                        </ul>\r\n                        <ul>\r\n                            <li className='title'>About</li>\r\n                            <li>\r\n                                <Link to='/'>\r\n                                    About\r\n                                </Link>\r\n                            </li>\r\n                            <li>\r\n                                <Link to='/'>\r\n                                    About\r\n                                </Link>\r\n                            </li>\r\n                            <li>\r\n                                <Link to='/'>\r\n                                    About\r\n                                </Link>\r\n                            </li>\r\n                            <li>\r\n                                <Link to='/'>\r\n                                    About\r\n                                </Link>\r\n                            </li>\r\n                        </ul>\r\n                        <ul>\r\n                            <li className='title'>About</li>\r\n                            <li>\r\n                                <Link to='/'>\r\n                                    About\r\n                                </Link>\r\n                            </li>\r\n                            <li>\r\n                                <Link to='/'>\r\n                                    About\r\n                                </Link>\r\n                            </li>\r\n                            <li>\r\n                                <Link to='/'>\r\n                                    About\r\n                                </Link>\r\n                            </li>\r\n                            <li>\r\n                                <Link to='/'>\r\n                                    About\r\n                                </Link>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                <p className='footer-copyright'> © 2021. All Right Reserved.\r\n\t\tPublished with  _mb1o4er</p>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Footer","export const UPDATE_USER = 'UPDATE_USER'\r\nexport const TOGGLE_LOADING = 'TOGGLE_LOADING'\r\nexport const GET_USERINFO = 'GET_USERINFOR'","import * as ActionTypes from './config'\r\n\r\n// export const updateUserInfo = (payload) => ({\r\n//   type: ActionTypes.UPDATE_USER,\r\n//   payload\r\n// })\r\n\r\nexport const getUserInfo = () => ({\r\n  type: ActionTypes.GET_USERINFO\r\n})\r\n\r\nexport const toggleLoading = (payload) => ({\r\n  type: ActionTypes.TOGGLE_LOADING,\r\n  payload\r\n})","import Header from '../components/Header'\r\nimport Footer from '../components/Footer'\r\nimport { useLocation } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { getUserInfo } from '../redux/actions/webActions'\r\nimport { useEffect } from 'react'\r\nconst MainTemplateSelector = (props) => {\r\n    const location = useLocation()\r\n    const asPath = location.pathname || '/'\r\n    \r\n    useEffect(() => {\r\n        props.getUserInfo()\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <Header asPath={asPath} />\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n            <Footer />\r\n        </>\r\n    )\r\n}\r\n\r\nconst MainTemplate = connect(null, { getUserInfo })(MainTemplateSelector)\r\nexport default MainTemplate","import Slider from \"react-slick\"\r\n\r\nconst MySlick = (props) => {\r\n    const settings = props.settings || {}\r\n\r\n    return (\r\n        <Slider {...settings} >\r\n            {props.children}\r\n        </Slider>\r\n    )\r\n}\r\n\r\nexport default MySlick","import { Link } from 'react-router-dom'\r\nimport MySlick from '../../global/Slick'\r\nimport getImage from '../../utils/getImage'\r\n\r\nconst Collection1 = (props) => {\r\n    const { posts } = props\r\n    \r\n    const responsive = [\r\n        {\r\n            breakpoint: 1199,\r\n            settings: {\r\n                slidesToShow: 4,\r\n                slidesToScroll: 4,\r\n                infinite: true,\r\n                dots: true\r\n            }\r\n        },\r\n        {\r\n            breakpoint: 767,\r\n            settings: {\r\n                slidesToShow: 2,\r\n                slidesToScroll: 2,\r\n                infinite: true,\r\n                dots: true\r\n            }\r\n        },\r\n        {\r\n            breakpoint: 575,\r\n            settings: {\r\n                slidesToShow: 1,\r\n                slidesToScroll: 1,\r\n                infinite: true,\r\n                dots: true\r\n            }\r\n        },\r\n        {\r\n            breakpoint: 0,\r\n            settings: {\r\n                slidesToShow: 1,\r\n                slidesToScroll: 1,\r\n                infinite: true,\r\n                dots: true\r\n            }\r\n        },\r\n\r\n    ]\r\n\r\n    const settings = {\r\n        centerPadding: '30px',\r\n        dots: true,\r\n        infinite: true,\r\n        speed: 500,\r\n        slidesToShow: 5,\r\n        slidesToScroll: 5,\r\n        responsive\r\n    }\r\n\r\n    const arr = [\r\n        {},\r\n        {},\r\n        {},\r\n        {},\r\n        {},\r\n        {},\r\n        {},\r\n        {},\r\n    ]\r\n\r\n    return <>\r\n        <div id='collection1'>\r\n            <div className='collection1-container'>\r\n                <h1 className='collection1-title'>\r\n                    Typical\r\n                </h1>\r\n                <MySlick settings={settings}>\r\n                    {\r\n                        posts.map((item, index) =>\r\n                            <div key={item._id} className='item-container'>\r\n                                <div className='item-content'>\r\n                                    <div className='item-thumb'>\r\n                                        <Link to={`/posts/${item.slug}`}>\r\n                                            <img src={getImage(item.image)} alt='img' />\r\n                                        </Link>\r\n                                    </div>\r\n                                    <div className='item-title'>\r\n                                        <Link to={`/posts/${item.slug}`} className='item-title-title'>\r\n                                            {item.title}\r\n                                        </Link>\r\n                                        <p className='item-title-desc'>\r\n                                            {item.description}\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n                </MySlick>\r\n\r\n            </div>\r\n        </div>\r\n    </>\r\n}\r\n\r\nexport default Collection1","import { Link } from 'react-router-dom'\r\nimport getImage from '../../utils/getImage'\r\n\r\nconst Latest = (props) => {\r\n    const { posts } = props\r\n    console.log(posts)\r\n    return (\r\n        <>\r\n            <div id='latest'>\r\n                <h1 className='latest-title'>\r\n                    Latest Posts\r\n                </h1>\r\n                <div className='posts-container'>\r\n                    {/* post 1 */}\r\n                    {\r\n                        posts && posts.length > 1 &&\r\n                        <div className='first-container'>\r\n                            <div className='first-thumb'>\r\n                                <Link to={`posts/${posts[0].slug}`}>\r\n                                    <img src={getImage(posts[0].image)} alt='img' />\r\n                                </Link>\r\n                            </div>\r\n                            <div className='first-infor'>\r\n                                <Link to={`posts/${posts[0].slug}`} className='first-category'>\r\n                                    {posts[0].category && posts[0].category.name.toUpperCase() || \"Đang cập nhật\"}\r\n                                </Link>\r\n                                <Link to='/' className='first-title'>\r\n                                    {posts[0].title}\r\n                                </Link>\r\n                                <p className='first-desc'>\r\n                                    {posts[0].description}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                    <div className='next-container'>\r\n                        <div className='row'>\r\n                            {/* next 3 */}\r\n                            {\r\n                                posts && posts.length > 4 &&\r\n                                posts.map((item, index) => {\r\n                                    if (index > 2 && index < 6) {\r\n                                        return (\r\n                                            <div className='col-12 col-sm-6 col-md-4 col-lg-4 col-xl-4'>\r\n                                                <div className='next-content'>\r\n                                                    <div className='next-thumb'>\r\n                                                        <Link to={`posts/${item.slug}`}>\r\n                                                            <img src={getImage(item.image)} alt='img' />\r\n                                                        </Link>\r\n                                                    </div>\r\n                                                    <div className='next-infor'>\r\n                                                        <Link to={`posts/${item.slug}`} className='next-title'>\r\n                                                            {item.title}\r\n                                                        </Link>\r\n                                                        <p className='next-desc'>\r\n                                                            {item.description}\r\n                                                        </p>\r\n                                                        <Link to='/' className='next-category'>{item.category && item.category.name.toUpperCase() || 'Đang cập nhật'}</Link>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    }\r\n                                })\r\n                            }\r\n                            {\r\n                                posts && posts.length > 6 &&\r\n                                posts.map((item, index) => {\r\n                                    if (index > 4 && index < 7) {\r\n                                        return (\r\n                                            < div className='col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6'>\r\n                                                <div className='next-content sec'>\r\n                                                    <div className='next-thumb'>\r\n                                                        <Link to={`posts/${item.slug}`}>\r\n                                                            <img src={getImage(item.image)} alt='img' />\r\n                                                        </Link>\r\n                                                    </div>\r\n                                                    <div className='next-infor'>\r\n                                                        <Link to={`posts/${item.slug}`} className='next-title'>\r\n                                                            {item.title}\r\n                                                        </Link>\r\n                                                        <p className='next-desc'>\r\n                                                            {item.description}\r\n                                                        </p>\r\n                                                        <Link to='/' className='next-category'>{item.category && item.category.name.toUpperCase() || 'Đang cập nhật'}</Link>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    }\r\n                                })\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Link to='/' className='latest-seemore'>See more...</Link>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Latest","const Invite = () => {\r\n    return (\r\n        <>\r\n            <div id='invite'>\r\n                <div className='invite-container'>\r\n                    <h1>Subcribe for new posts</h1>\r\n                    <div className='form-container'>\r\n                        <input placeholder='Your email address' />\r\n                        <button>Subcribe</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Invite","const axios = require('axios')\r\n\r\nconst testDeploy = axios.create({\r\n  baseURL: 'https://manhbui-testdeploy-mblog.herokuapp.com',\r\n  withCredentials: true,\r\n})\r\n\r\nconst api = (method, url, data) => {\r\n  if (method && url) {\r\n    return testDeploy({\r\n      method,\r\n      url,\r\n      data: data || {},\r\n    })\r\n} else {\r\n  console.log('error somt')\r\n  }\r\n}\r\n\r\nexport default api\r\n\r\nexport const apiUpLoad = (data) => {\r\n  return axios({\r\n    method: 'POST',\r\n    url: '/upload',\r\n    data\r\n  })\r\n}\r\n","import MainTemplate from '../../layouts/MainLayout'\r\nimport Collection1 from './collection1'\r\nimport Latest from './latest'\r\nimport Invite from './invite'\r\nimport { useEffect, useState } from 'react'\r\nimport api from '../../utils/axios'\r\n\r\nconst Home = () => {\r\n    const [posts, setPosts] = useState([])\r\n\r\n    useEffect(() => {\r\n        console.log(1)\r\n        api('GET', 'api/posts')\r\n            .then(res => {\r\n                console.log(res)\r\n                if(res.data && res.data.status) {\r\n                    setPosts(res.data.posts)\r\n                }\r\n            })\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <MainTemplate>\r\n                <Collection1 posts={posts} />\r\n                <Latest posts={posts} />\r\n                <Collection1 posts={posts} />\r\n                <Invite />\r\n            </MainTemplate>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Home","import { Link } from 'react-router-dom'\r\nimport { useState, useEffect } from 'react'\r\nimport api from '../../utils/axios'\r\n\r\nconst FilterSelector = (props) => {\r\n  const [category, setCategory] = useState(null)\r\n  const [createDate, setCreateDate] = useState(null)\r\n  const [currentFilter, setCurrentFilter] = useState([])\r\n  const [currentFilterCate, setCurrentFilterCate] = useState(null)\r\n  const [currentFilterDate, setCurrentFilterDate] = useState(null)\r\n  const [filterActive, setFilterActive] = useState(\r\n    {\r\n      all: true,\r\n      categories: false,\r\n      sort: false\r\n    }\r\n  )\r\n\r\n  const filterByCategory = (categoryId, categoryName) => {\r\n    const newList = currentFilter.filter(x => x.type !== 'category')\r\n\r\n    setFilterActive({\r\n      ...filterActive,\r\n      categories: true,\r\n      all: false\r\n    })\r\n\r\n    setCurrentFilter([\r\n      ...newList,\r\n      {\r\n        type: 'category',\r\n        value: categoryName\r\n      }\r\n    ])\r\n\r\n    setCurrentFilterCate(categoryId)\r\n\r\n    const query = {\r\n      category: categoryId,\r\n      date: currentFilterDate\r\n    }\r\n\r\n    props.totalFilter(query)\r\n  }\r\n\r\n  const filterByCreateDate = (type, sortName) => {\r\n    const newList = currentFilter.filter(x => x.type !== 'sort')\r\n\r\n    setFilterActive({\r\n      ...filterActive,\r\n      sort: true,\r\n      all: false\r\n    })\r\n\r\n    setCurrentFilter([\r\n      ...newList,\r\n      {\r\n        type: 'sort',\r\n        value: sortName\r\n      }\r\n    ])\r\n\r\n    setCurrentFilterDate(type)\r\n\r\n    const query = {\r\n      category: currentFilterCate,\r\n      date: type\r\n    }\r\n\r\n    props.totalFilter(query)\r\n  }\r\n\r\n  const filterAll = () => {\r\n    setFilterActive({\r\n      ...filterActive,\r\n      all: true,\r\n      categories: false,\r\n      sort: false\r\n    })\r\n    setCurrentFilter([])\r\n    props.totalFilter({})\r\n  }\r\n\r\n  const removeTag = (type) => {\r\n    const newList = currentFilter.filter(x => x.type !== type)\r\n    setCurrentFilter(newList)\r\n\r\n    if (type === 'category') {\r\n      setFilterActive({\r\n        ...filterActive,\r\n        categories: false,\r\n      })\r\n    } else if (type === 'sort') {\r\n      setFilterActive({\r\n        ...filterActive,\r\n        sort: false,\r\n      })\r\n    }\r\n\r\n    const query = {\r\n      category: currentFilterCate,\r\n      date: currentFilterDate\r\n    }\r\n\r\n    if (type === 'category') {\r\n      query.category = null\r\n      setCurrentFilterCate(null)\r\n    } else if (type === 'sort') {\r\n      query.date = null\r\n      setCurrentFilterDate(null)\r\n    }\r\n\r\n    if(newList.length === 0) {\r\n      setFilterActive({\r\n        categories: false,\r\n        sort: false,\r\n        all: true\r\n      })\r\n    } \r\n\r\n    props.totalFilter(query)\r\n  }\r\n\r\n  useEffect(() => {\r\n    api('GET', 'api/categories')\r\n      .then(res => {\r\n        if (res.data && res.data.status) {\r\n          setCategory(res.data.categories)\r\n        }\r\n      })\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <div id='filter'>\r\n        <div className='filter-container'>\r\n          <i className=\"fas fa-filter\"></i>\r\n          <ul className='filter-list'>\r\n            <li className={filterActive.all ? 'filter-item active' : 'filter-item'} onClick={filterAll}>All</li>\r\n            <li className={filterActive.categories ? 'filter-item active' : 'filter-item'}>\r\n              Categories\r\n              {\r\n                category && category.length > 0 &&\r\n                <ul className='filter-menu'>\r\n                  {\r\n                    category.map(item => (\r\n                      <li onClick={() => filterByCategory(item._id, item.name)}>{item.name}</li>\r\n                    ))\r\n                  }\r\n                </ul>\r\n              }\r\n            </li>\r\n            <li className={filterActive.sort ? 'filter-item active' : 'filter-item'}>Date\r\n              <ul className='filter-menu'>\r\n                <li onClick={() => filterByCreateDate('-createDate', 'Latest')}>Latest</li>\r\n                <li onClick={() => filterByCreateDate('createDate', 'Earliest')}>Earliest</li>\r\n              </ul>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        {\r\n          currentFilter && currentFilter.length > 0 &&\r\n          <div className='filter-tag-container'>\r\n            <span>Filter by: </span>\r\n            <div className='filter-tags'>\r\n              {\r\n                currentFilter.map(item =>\r\n                  <div className='tag'>\r\n                    <span>\r\n                      {item.value}\r\n                    </span>\r\n                    <i onClick={() => removeTag(item.type)} className=\"far fa-times-circle\"></i>\r\n                  </div>\r\n                )\r\n              }\r\n              <div className='tag' onClick={filterAll}>\r\n                <span style={{ color: 'rgb(238, 63, 63)', cursor: 'pointer' }}>\r\n                  Remove all filter\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        }\r\n      </div>\r\n      {/* <div id='mb-filter'>\r\n        <button>\r\n          <span>Filter</span>\r\n          <i className=\"fas fa-filter\"></i>\r\n        </button>\r\n      </div> */}\r\n      <div className='opt'>\r\n        <div className='all-post'>\r\n          {\r\n            props.length > 0 &&\r\n            <span>{`${props.length}/${props.total}`}</span>\r\n          }\r\n\r\n          <span className='line'></span>\r\n        </div>\r\n        <div className='create-post'>\r\n          <Link to='/posts/create' className='create-new'>\r\n            Create a new post?\r\n          </Link>\r\n          <i className=\"fas fa-pen-alt\"></i>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n\r\n}\r\n\r\nexport default FilterSelector","import { Link, useHistory } from 'react-router-dom'\r\nimport TextareaAutosize from 'react-textarea-autosize'\r\nimport { useState, useRef } from 'react'\r\nimport moment from 'moment'\r\nimport getImage from '../utils/getImage'\r\nimport { connect } from 'react-redux'\r\nimport { toggleLoading } from '../redux/actions/webActions'\r\nimport api from '../utils/axios'\r\n\r\nconst PostListSelector = (props) => {\r\n  const history = useHistory()\r\n  const { web } = props\r\n\r\n  const { posts } = props\r\n  const [comment, setComment] = useState(null)\r\n  const [cmtLoading, setCmtLoading] = useState(false)\r\n  const [commentList, setCommentList] = useState([])\r\n  const [deleteConfirm, setDeleteConfirm] = useState(false)\r\n  const [deletedPost, setDeletedPost] = useState({})\r\n\r\n  const commentEl = useRef(null)\r\n\r\n  const toggleComment = (index, postId) => {\r\n    if (index === comment) {\r\n      setComment(null)\r\n    } else {\r\n      getComment(postId)\r\n      setComment(index)\r\n    }\r\n  }\r\n\r\n  const toggleDeleteForm = (info) => {\r\n    setDeleteConfirm(!deleteConfirm)\r\n    setDeletedPost(info)\r\n  }\r\n\r\n  const getComment = (postId) => {\r\n    setCmtLoading(true)\r\n    api(\"GET\", `api/posts/comment/${postId}?page=${1}`)\r\n      .then(res => {\r\n        if (res.data && res.data.status) {\r\n          if (res.data.comments && res.data.comments.length > 0) {\r\n            setCommentList(res.data.comments)\r\n          }\r\n        } else {\r\n          setCommentList([])\r\n        }\r\n      })\r\n      .catch(err => console.log(err))\r\n      .then(() => {\r\n        setCmtLoading(false)\r\n      })\r\n  }\r\n\r\n  const sendComment = (item, index) => {\r\n    const postId = item._id\r\n    setCmtLoading(true)\r\n    const value = commentEl.current.value\r\n\r\n    const postData = {\r\n      postId: postId,\r\n      content: value\r\n    }\r\n\r\n    api('POST', `/api/posts/comment/${postId}`, postData)\r\n      .then(res => {\r\n        if (res.data && res.data.status) {\r\n          const commentCount = [...item.comment]\r\n          commentCount.push({ content: postData.content })\r\n\r\n          const newPostList = [\r\n            ...posts.slice(0, index),\r\n            {\r\n              ...item,\r\n              comment: commentCount\r\n            },\r\n            ...posts.slice(index + 1)\r\n          ]\r\n          props.setPosts(newPostList)\r\n          commentEl.current.value = ''\r\n          \r\n          let newComtList = commentList\r\n          if (newComtList.length > 3)\r\n            newComtList = [...commentList.slice(1)]\r\n            console.log(newComtList)\r\n          setCommentList(\r\n            [\r\n              ...newComtList,\r\n              {\r\n                user: {\r\n                  _id: web.user.userId,\r\n                  firstName: web.user.firstName,\r\n                  lastName: web.user.lastName,\r\n                  image: web.user.userImage\r\n                },\r\n                ...postData\r\n              }\r\n            ]\r\n          )\r\n        } else {\r\n          if (res.data.message === 'khong the lay token') {\r\n            history.replace({ pathname: '/sign-in' })\r\n          }\r\n        }\r\n      })\r\n      .catch(err => console.log(err))\r\n      .then(() => {\r\n        setCmtLoading(false)\r\n      })\r\n  }\r\n\r\n  const deletePost = (postId, authorId, title) => {\r\n\r\n    api('POST', `api/posts/delete/${postId}`, { postId, authorId })\r\n      .then(res => {\r\n        if (res.data && res.data.status) {\r\n          setDeleteConfirm(false)\r\n          props.removeEl(postId)\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n        alert('Error!')\r\n      })\r\n  }\r\n\r\n  return <div className='postList'>\r\n    <div style={{ display: deleteConfirm ? 'block' : 'none' }} className='delete-confirm'>\r\n      <div className='confirm-container'>\r\n        <p>Do you want to delete this post?</p>\r\n        <div className='btns'>\r\n          <button onClick={() => deletePost(deletedPost._id, deletedPost.author._id)} className='delete'>Delete</button>\r\n          <button onClick={() => setDeleteConfirm(!deleteConfirm)} >Cancel</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div className='postList-container'>\r\n      {\r\n        posts && posts.length > 0 && posts.map((item, index) => {\r\n          return (\r\n            <div key={item._id} className='postList-list'>\r\n              <div className='mb-user-info'>\r\n                <Link to={`/posts/${item.slug}`}>{item.author && item.author.firstName}</Link>\r\n                <span> - {moment(item.createDate).format('DD/MM/YYYY')}</span>\r\n              </div>\r\n              <div className='postList-list-container'>\r\n                <div className='info-container'>\r\n                  <div className='user-container'>\r\n                    <Link to={`/posts/${item.slug}`}>\r\n                      <img src={getImage(item.image)} />\r\n                    </Link>\r\n                    <Link to={`/posts/${item.slug}`} className='username'>\r\n                      {item.author && item.author.firstName}\r\n                    </Link>\r\n                  </div>\r\n                  <div className='create-time'>\r\n                    <span>{moment(item.createDate).format('DD/MM/YYYY')}</span>\r\n                  </div>\r\n                </div>\r\n                <div className='content-container'>\r\n                  {\r\n                    props.author &&\r\n                    <div className='author-role'>\r\n                      <Link to={`/posts/update/${item._id}`} style={{ color: 'rgb(84, 84, 216)' }}>Edit</Link>\r\n                      <button onClick={() => toggleDeleteForm(item)} className='delete'>\r\n                        <i className=\"far fa-trash-alt\"></i>\r\n                      </button>\r\n                    </div>\r\n                    ||\r\n                    null\r\n                  }\r\n                  <Link to={`/posts/${item.slug}`} className='post-title'>\r\n                    {item.title}\r\n                  </Link>\r\n                  <p className='category'>{item.category?.name || 'null'}</p>\r\n                  <p className='content'>\r\n                    {item.description}\r\n                  </p>\r\n                  <Link to={`/posts/${item.slug}`} className='read-more'>\r\n                    Read more...\r\n                  </Link>\r\n                  {\r\n                    !props.search &&\r\n                    <>\r\n                      <div className='tools'>\r\n                        <button onClick={() => props.likeHandle(item, index)} className='like'>\r\n                          {\r\n                            item.liked &&\r\n                            <>\r\n                              <i className=\"fas fa-heart\"></i>\r\n                              <span>{`You ${item.like && item.like.length > 1 ? `and ${item.like.length - 1} others` : ''}`}</span>\r\n                            </>\r\n                            ||\r\n                            <>\r\n                              <i className=\"far fa-heart\"></i>\r\n                              <span>{`${item.like && item.like.length === 0 ? `Like this post` : `${item.like.length} people`}`}</span>\r\n                            </>\r\n                          }\r\n                        </button>\r\n                        <button className={comment === index ? 'comment active' : 'comment'} onClick={() => toggleComment(index, item._id)}>\r\n                          <i className=\"far fa-comments\"></i>\r\n                          <span>{item.comment && item.comment.length || 0}</span>\r\n                        </button>\r\n                        <button className='share'>\r\n                          <i className=\"fas fa-share\"></i>\r\n                        </button>\r\n                        <button className='add'>\r\n                          <i className=\"far fa-plus-square\"></i>\r\n                        </button>\r\n                      </div>\r\n                      {\r\n                        comment === index &&\r\n                        <div className='comments active'>\r\n                          <div className='comment-list'>\r\n                            {\r\n                              commentList && commentList.length > 0 &&\r\n                              <ul>\r\n                                {\r\n                                  commentList.map(item => (\r\n                                    <li key={item.id} className='comment-item'>\r\n                                      <div className='comment-author'>\r\n                                        <Link to={`/`}>\r\n                                          <img src={getImage(item.user.image)} />\r\n                                        </Link>\r\n                                        <Link to={`/`}>\r\n                                          {`${item.user.firstName} ${item.user.lastName}`}\r\n                                        </Link>\r\n                                      </div>\r\n                                      <div className='comment-content'>\r\n                                        <p>\r\n                                          {item.content}\r\n                                        </p>\r\n                                      </div>\r\n                                    </li>\r\n                                  ))\r\n                                }\r\n                                {\r\n                                  cmtLoading &&\r\n                                  <li className='postList-comment-loading'>\r\n                                    <img src='/images/cmtloading.gif' />\r\n                                  </li>\r\n                                }\r\n                              </ul>\r\n                              ||\r\n                              <p className='comemnt-list comment-alert'>There are not any comment. write your mind?</p>\r\n                            }\r\n                          </div>\r\n                          <div className='user-comment'>\r\n                            <img src={getImage(web.user.userImage)} />\r\n                            <div className='comment-input-container'>\r\n                              <TextareaAutosize id={item._id} key={item._id} ref={commentEl} placeholder='write a comment...' className='comment-input' />\r\n                              <button onClick={() => sendComment(item, index)}>\r\n                                <i className=\"far fa-paper-plane\"></i>\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      }\r\n                    </>\r\n                  }\r\n                </div>\r\n              </div>\r\n              <hr className='boundary' />\r\n\r\n            </div>\r\n          )\r\n        }\r\n        )\r\n        ||\r\n        <p>Không có bài viêt nào.</p>\r\n      }\r\n    </div>\r\n  </div>\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  web: state.web\r\n})\r\n\r\nconst mapActionToProps = {\r\n  toggleLoading\r\n}\r\n\r\nconst PostList = connect(mapStateToProps, mapActionToProps)(PostListSelector)\r\nexport default PostList","\r\nconst Pagination = (props) => {\r\n  const { page, totalPage } = props\r\n  const pageArr = Array.from(new Array(totalPage))\r\n  \r\n  return (\r\n    <div id='pagination'>\r\n      <ul>\r\n        <li onClick={() => props.changePage(page - 1)} hidden={page === 1}>\r\n          <i className=\"fas fa-chevron-left\"></i>\r\n        </li>\r\n        {\r\n          pageArr.map((item, index) => (\r\n            <li onClick={() => props.changePage(index + 1)} style={{borderColor: index + 1 !== page ? 'rgb(189, 112, 50)' : 'transparent'}} key={index}>{index + 1}</li>\r\n          ))}\r\n        <li onClick={() => props.changePage(page+1)} hidden={page === totalPage}>\r\n          <i className=\"fas fa-chevron-right\"></i>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Pagination","import MainTemplate from '../../layouts/MainLayout'\r\nimport FilterSelector from './filter'\r\nimport PostList from '../../components/postList'\r\nimport Pagination from '../../components/Pagination'\r\nimport api from '../../utils/axios'\r\nimport { useState, useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { toggleLoading } from '../../redux/actions/webActions'\r\n\r\nconst PostSelector = (props) => {\r\n    const { web } = props\r\n    const [posts, setPosts] = useState([])\r\n    const [totalPosts, setTotalPosts] = useState(0)\r\n    const [currentPage, setCurrentPage] = useState(1)\r\n    const [totalPage, setTotalPage] = useState(0)\r\n    const [currentCate, setCurrentCate] = useState(null)\r\n    const [currentDate, setCurrentDate] = useState(null)\r\n\r\n    const filter = (query) => {\r\n        console.log(query)\r\n        const { category, date } = query\r\n        setCurrentCate(category)\r\n        setCurrentDate(date)\r\n\r\n        let url = '/api/posts?'\r\n\r\n        if (category) {\r\n            url = url + `category=${category}&`\r\n        }\r\n\r\n        if (date) {\r\n            url = url + `sortDate=${date}&`\r\n        }\r\n\r\n        props.toggleLoading()\r\n        api('GET', `${url}page=${1}`)\r\n            .then((res) => {\r\n                if (res.status === 200) {\r\n                    if (res.data && res.data.posts && res.data.posts.length > 0) {\r\n                        const postsData = res.data.posts\r\n                        const newPostsData = postsData.map((item) => {\r\n                            let liked = false\r\n                            if (item.like.filter(x => x._id === web.user.userId).length > 0) {\r\n                                liked = true\r\n                            }\r\n                            return {\r\n                                ...item,\r\n                                liked\r\n                            }\r\n                        })\r\n\r\n                        setPosts(newPostsData)\r\n                        setCurrentPage(res.data.page)\r\n                        setTotalPage(res.data.totalPage)\r\n                        setTotalPosts(res.data.totalPost)\r\n                    } else {\r\n                        setPosts([])\r\n                        setTotalPosts(0)\r\n                    }\r\n                }\r\n            })\r\n            .catch(err => console.log(err))\r\n            .then(() => {\r\n                props.toggleLoading()\r\n            })\r\n    }\r\n\r\n    const changePage = (page) => {\r\n        const category = currentCate\r\n        const date = currentDate\r\n\r\n        let url = '/api/posts?'\r\n\r\n        if (category) {\r\n            url = url + `category=${category}&`\r\n        }\r\n\r\n        if (date) {\r\n            url = url + `sortDate=${date}&`\r\n        }\r\n\r\n        props.toggleLoading()\r\n        api('GET', `${url}page=${page}`)\r\n            .then((res) => {\r\n                if (res.status === 200) {\r\n                    if (res.data && res.data.posts && res.data.posts.length > 0) {\r\n                        const postsData = res.data.posts\r\n                        const newPostsData = postsData.map((item) => {\r\n                            let liked = false\r\n                            if (item.like.filter(x => x._id === web.user.userId).length > 0) {\r\n                                liked = true\r\n                            }\r\n                            return {\r\n                                ...item,\r\n                                liked\r\n                            }\r\n                        })\r\n                        setPosts(newPostsData)\r\n                        setCurrentPage(res.data.page)\r\n                        setTotalPage(res.data.totalPage)\r\n                        setTotalPosts(res.data.totalPost)\r\n                    } else {\r\n                        setPosts([])\r\n                        setTotalPosts(0)\r\n                    }\r\n                }\r\n            })\r\n            .catch(err => console.log(err))\r\n            .then(() => {\r\n                props.toggleLoading()\r\n            })\r\n    }\r\n\r\n    const like = (id) => {\r\n        api('POST', `api/posts/like/${id}`)\r\n            // .then(res => console.log(res))\r\n    }\r\n\r\n    const unlike = (id) => {\r\n        api('POST', `api/posts/unlike/${id}`)\r\n            // .then(res => console.log(res))\r\n    }\r\n\r\n    const likeHandle = (item, index) => {\r\n        const likeList = item.like\r\n        const PostId = item._id\r\n        const userId = web.user.userId\r\n        const result = likeList.filter(e => e._id === userId).length > 0\r\n        let newPosts\r\n        if (result) {\r\n            console.log('unlike')\r\n            unlike(PostId)\r\n            const newLikeList = likeList.filter(x => x._id !== userId)\r\n            newPosts = [\r\n                ...posts.slice(0, index),\r\n                {\r\n                    ...item,\r\n                    liked: false,\r\n                    like: newLikeList\r\n                },\r\n                ...posts.slice(index + 1)\r\n            ]\r\n        } else {\r\n            console.log('like')\r\n            like(PostId)\r\n            likeList.push({_id: userId})\r\n\r\n            newPosts = [\r\n                ...posts.slice(0, index),\r\n                {\r\n                    ...item,\r\n                    liked: true,\r\n                    like: likeList\r\n                },\r\n                ...posts.slice(index + 1)\r\n            ]\r\n        }\r\n\r\n        setPosts(newPosts)\r\n    }\r\n\r\n    useEffect(() => {\r\n        props.toggleLoading()\r\n        api('GET', `/api/posts?page=${1}`)\r\n            .then((res) => {\r\n                if (res.status === 200) {\r\n                    if (res.data && res.data.posts && res.data.posts.length > 0) {\r\n                        const postsData = res.data.posts\r\n                        const newPostsData = postsData.map((item) => {\r\n                            let liked = false\r\n                            if (item.like.filter(x => x._id === web.user.userId).length > 0) {\r\n                                liked = true\r\n                            }\r\n                            return {\r\n                                ...item,\r\n                                liked\r\n                            }\r\n                        })\r\n                        setPosts(newPostsData)\r\n                        setCurrentPage(res.data.page)\r\n                        setTotalPage(res.data.totalPage)\r\n                        setTotalPosts(res.data.totalPost)\r\n                    }\r\n                }\r\n            })\r\n            .catch(err => console.log(err))\r\n            .then(() => {\r\n                props.toggleLoading()\r\n            })\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <MainTemplate>\r\n                <FilterSelector totalFilter={filter} length={posts.length} total={totalPosts} />\r\n                <PostList setPosts={setPosts} likeHandle={likeHandle} posts={posts} />\r\n                {\r\n                    posts && posts.length > 0 &&\r\n                    <Pagination changePage={changePage} page={currentPage} totalPage={totalPage} />\r\n                }\r\n            </MainTemplate>\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    web: state.web\r\n})\r\n\r\nconst mapActionToProps = {\r\n    toggleLoading\r\n}\r\n\r\nconst Post = connect(mapStateToProps, mapActionToProps)(PostSelector)\r\n\r\nexport default Post","import MainTemplate from '../../layouts/MainLayout'\r\nimport PostList from '../../components/postList'\r\nimport Pagination from '../../components/Pagination'\r\nimport api from '../../utils/axios'\r\nimport { useState, useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { toggleLoading } from '../../redux/actions/webActions'\r\nimport { useLocation, BrowserRouter as Router } from 'react-router-dom'\r\n\r\nconst useQuery = () => {\r\n    return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nconst PostSelector = (props) => {\r\n    const { web } = props\r\n    const authorQ = localStorage.getItem('userId')\r\n\r\n    let url = '/api/posts?'\r\n    if (authorQ) {\r\n        url = url + `checkAuthor=${authorQ}&`\r\n    }\r\n\r\n    const [posts, setPosts] = useState([])\r\n    const [author, setAuthor] = useState(false)\r\n    const [totalPosts, setTotalPosts] = useState(0)\r\n    const [currentPage, setCurrentPage] = useState(1)\r\n    const [totalPage, setTotalPage] = useState(0)\r\n\r\n    useEffect(() => {\r\n        props.toggleLoading()\r\n        api('GET', url)\r\n            .then((res) => {\r\n                if (res.status === 200) {\r\n                    if (res.data && res.data.posts && res.data.posts.length > 0) {\r\n                        const postsData = res.data.posts\r\n                        const newPostsData = postsData.map((item) => {\r\n                            let liked = false\r\n                            if (item.like.filter(x => x._id === web.user.userId).length > 0) {\r\n                                liked = true\r\n                            }\r\n                            return {\r\n                                ...item,\r\n                                liked\r\n                            }\r\n                        })\r\n                        setPosts(newPostsData)\r\n                        setAuthor(res.data.isAuthor)\r\n                    } else {\r\n                        setPosts(0)\r\n                    }\r\n                }\r\n            })\r\n            .catch(err => console.log(err))\r\n            .then(() => {\r\n                props.toggleLoading()\r\n            })\r\n    }, [])\r\n\r\n    const removePost = (postId) => {\r\n        const newList = posts.filter(x => x._id !== postId)\r\n        setPosts(newList)\r\n    }\r\n\r\n    const changePage = (page) => {\r\n        let url = '/api/posts?'\r\n\r\n        props.toggleLoading()\r\n        api('GET', `${url}page=${page}`)\r\n            .then((res) => {\r\n                if (res.status === 200) {\r\n                    if (res.data && res.data.posts && res.data.posts.length > 0) {\r\n                        const postsData = res.data.posts\r\n                        const newPostsData = postsData.map((item) => {\r\n                            let liked = false\r\n                            if (item.like.filter(x => x._id === web.user.userId).length > 0) {\r\n                                liked = true\r\n                            }\r\n                            return {\r\n                                ...item,\r\n                                liked\r\n                            }\r\n                        })\r\n                        setPosts(newPostsData)\r\n                        setCurrentPage(res.data.page)\r\n                        setTotalPage(res.data.totalPage)\r\n                        setTotalPosts(res.data.totalPost)\r\n                    } else {\r\n                        setPosts([])\r\n                        setTotalPosts(0)\r\n                    }\r\n                }\r\n            })\r\n            .catch(err => console.log(err))\r\n            .then(() => {\r\n                props.toggleLoading()\r\n            })\r\n    }\r\n\r\n    const like = (id) => {\r\n        api('POST', `api/posts/like/${id}`)\r\n        // .then(res => console.log(res))\r\n    }\r\n\r\n    const unlike = (id) => {\r\n        api('POST', `api/posts/unlike/${id}`)\r\n        // .then(res => console.log(res))\r\n    }\r\n\r\n    const likeHandle = (item, index) => {\r\n        const likeList = item.like\r\n        const PostId = item._id\r\n        const userId = web.user.userId\r\n        const result = likeList.filter(e => e._id === userId).length > 0\r\n        let newPosts\r\n        if (result) {\r\n            console.log('unlike')\r\n            unlike(PostId)\r\n            const newLikeList = likeList.filter(x => x._id !== userId)\r\n            newPosts = [\r\n                ...posts.slice(0, index),\r\n                {\r\n                    ...item,\r\n                    liked: false,\r\n                    like: newLikeList\r\n                },\r\n                ...posts.slice(index + 1)\r\n            ]\r\n        } else {\r\n            console.log('like')\r\n            like(PostId)\r\n            likeList.push({ _id: userId })\r\n\r\n            newPosts = [\r\n                ...posts.slice(0, index),\r\n                {\r\n                    ...item,\r\n                    liked: true,\r\n                    like: likeList\r\n                },\r\n                ...posts.slice(index + 1)\r\n            ]\r\n        }\r\n\r\n        setPosts(newPosts)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <MainTemplate>\r\n                <PostList setPosts={setPosts} author={author} removeEl={removePost} likeHandle={likeHandle} posts={posts} />\r\n                {\r\n                    posts && posts.length > 0 &&\r\n                    <Pagination changePage={changePage} page={currentPage} totalPage={totalPage} />\r\n                }\r\n            </MainTemplate>\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    web: state.web\r\n})\r\n\r\nconst mapActionToProps = {\r\n    toggleLoading\r\n}\r\n\r\nconst Post = connect(mapStateToProps, mapActionToProps)(PostSelector)\r\n\r\nexport default Post","import { Link, useHistory } from 'react-router-dom'\r\nimport { useState, useEffect } from 'react'\r\nimport { usernameValidate } from '../utils/validate'\r\nimport Cookies from 'js-cookie'\r\nimport api from '../utils/axios'\r\n\r\nimport { connect } from 'react-redux'\r\nimport { getUserInfo } from '../redux/actions/webActions'\r\n\r\nconst SignUpSelector = (props) => {\r\n\r\n    const [usernameErr, logUsernameErr] = useState(false)\r\n    const [userData, setUserData] = useState({})\r\n    const [passCheck, setPassCheck] = useState(false)\r\n    const [login, setLogin] = useState(false)\r\n\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        localStorage.clear()\r\n        Cookies.remove('userToken')\r\n    }, [])\r\n\r\n    const usernameValidation = (e) => {\r\n        let value = e.target.value\r\n        value = value.trim()\r\n        setUserData({\r\n            ...userData,\r\n            username: value\r\n        })\r\n\r\n        if (value !== '') {\r\n            logUsernameErr(!usernameValidate(value))\r\n            if (checkValidate(!usernameValidate(value), passCheck) && value?.length > 0 && userData.password?.length >= 6) {\r\n                setLogin(true)\r\n            } else {\r\n                setLogin(false)\r\n            }\r\n        } else {\r\n            logUsernameErr(false)\r\n        }\r\n    }\r\n\r\n    const passValidation = (e) => {\r\n        let value = e.target.value\r\n        value = value.trim()\r\n\r\n        setUserData({\r\n            ...userData,\r\n            password: value\r\n        })\r\n\r\n        if (value.length < 5) {\r\n            setPassCheck(true)\r\n        } else {\r\n            setPassCheck(false)\r\n        }\r\n\r\n        if (checkValidate(usernameErr, passCheck) && userData.username?.length > 0 && value?.length >= 6) {\r\n            setLogin(true)\r\n        } else {\r\n            setLogin(false)\r\n        }\r\n    }\r\n\r\n\r\n    const checkValidate = (usernameErr, passCheck) => {\r\n        if (!usernameErr && !passCheck) {\r\n            return true\r\n        } else return false\r\n    }\r\n\r\n    const submitHandle = (e) => {\r\n        if (checkValidate(usernameErr, passCheck)) {\r\n            api('POST', '/api/sign-in', userData)\r\n                .then(res => {\r\n                    console.log('response: ', res)\r\n                    const { data } = res\r\n                    const { userToken } = data\r\n                    if (data.logged) {\r\n                        const userInfo = data.userData\r\n                        userToken && Cookies.set('userToken', userToken, { expires: 7 })\r\n\r\n                        localStorage.setItem('logged', true)\r\n                        localStorage.setItem('firstName', userInfo.firstName)\r\n                        localStorage.setItem('lastName', userInfo.lastName)\r\n                        localStorage.setItem('userId', userInfo.id)\r\n                        localStorage.setItem('userImage', userInfo.image)\r\n                        localStorage.setItem('userBio', userInfo.bio)\r\n                        props.getUserInfo()\r\n\r\n                        history.replace({ pathname: '/' })\r\n                    } else {\r\n                        alert('Thông tin tài khoản không đúng, vui lòng đăng nhập lại.')\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    console.log('err', err)\r\n                })\r\n        } else {\r\n            alert('Thông tin không hợp lệ!')\r\n        }\r\n        e.preventDefault()\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className='sign-in-container'>\r\n                <div className='sign-in-header'>\r\n                    <div className='sign-in-logo-wrapper'>\r\n                        <Link to='/'>\r\n                            <img src='/images/pageLogo.png' />\r\n                        </Link>\r\n                    </div>\r\n                    <h1 className='sign-in-title'>Sign in to MB<span style={{ color: '#5073FF' }}>log</span></h1>\r\n                </div>\r\n                <form onSubmit={(e) => submitHandle(e)} id='sign-up-form'>\r\n                    <label htmlFor='username'>Username: </label>\r\n                    <input onChange={(e) => usernameValidation(e)} className={usernameErr ? 'validate-error' : ''} required id='username' placeholder='Enter your Username' name='username' />\r\n                    <label htmlFor='password'>Password: </label>\r\n                    <input onChange={(e) => passValidation(e)} required type='password' placeholder='******' id='password' name='password' />\r\n                    <Link className='link-to-sign-in' to='/forget'>\r\n                        Forgot password?\r\n                    </Link>\r\n                    <div className='form-btn'>\r\n                        <button disabled={!login} type='submit' className={login ? 'sign-btn active' : 'sign-btn'}>\r\n                            Sign in\r\n                        </button>\r\n                    </div>\r\n                    <div className='form-auths'>\r\n                        <Link to='/' className='fb'>\r\n                            <span>Facebook</span><i className=\"fab fa-facebook\"></i>\r\n                        </Link>\r\n                        <Link to='/' className='gg'>\r\n                            <span>Google</span><i className=\"fab fa-google\"></i>\r\n                        </Link>\r\n                    </div>\r\n                </form>\r\n                <Link to='/sign-up' className='link-to-sign-in'>\r\n                    You don't have an account? Sign-up here!\r\n                </Link>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        web: state.web\r\n    }\r\n}\r\n\r\nconst mapActionsToProps = {\r\n    getUserInfo\r\n}\r\n\r\nconst SignUp = connect(mapStateToProps, mapActionsToProps)(SignUpSelector)\r\n\r\nexport default SignUp","import { Link, useHistory } from 'react-router-dom'\r\nimport { useState, useEffect } from 'react'\r\nimport { nameValidate, usernameValidate, emailValidate } from '../utils/validate'\r\nimport api from '../utils/axios'\r\nimport { connect } from 'react-redux'\r\nimport { getUserInfo } from '../redux/actions/webActions'\r\nimport Cookies from 'js-cookie'\r\n\r\nconst SignInSelector = (props) => {\r\n    \r\n    const [emailErr, logEmailErr] = useState(false)\r\n    const [usernameErr, logUsernameErr] = useState(false)\r\n    const [firstNameErr, logFirstNameErr] = useState(false)\r\n    const [lastNameErr, logLastNameErr] = useState(false)\r\n\r\n    const [prePass, setPrePass] = useState('')\r\n    const [passCheck, setPassCheck] = useState(false)\r\n\r\n    const [userData, setUserData] = useState({})\r\n\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        localStorage.clear()\r\n        Cookies.remove('userToken')\r\n    }, [])\r\n\r\n    const emailValidation = (e) => {\r\n        let value = e.target.value || ''\r\n        value = value.trim()\r\n        setUserData({\r\n            ...userData,\r\n            email: value\r\n        })\r\n\r\n        if (value !== '') {\r\n            logEmailErr(!emailValidate(value))\r\n        } else {\r\n            logEmailErr(false)\r\n        }\r\n    }\r\n\r\n    const usernameValidation = (e) => {\r\n        let value = e.target.value || ''\r\n        value = value.trim()\r\n        setUserData({\r\n            ...userData,\r\n            username: value\r\n        })\r\n\r\n        if (value !== '') {\r\n            logUsernameErr(!usernameValidate(value))\r\n        } else {\r\n            logUsernameErr(false)\r\n        }\r\n    }\r\n\r\n    const firstNameValidation = (e) => {\r\n        let value = e.target.value || ''\r\n        value = value.trim()\r\n        setUserData({\r\n            ...userData,\r\n            firstName: value\r\n        })\r\n\r\n        if (value !== '') {\r\n            logFirstNameErr(!nameValidate(value))\r\n        } else {\r\n            logFirstNameErr(false)\r\n        }\r\n    }\r\n\r\n    const lastNameValidation = (e) => {\r\n        let value = e.target.value || ''\r\n\r\n        setUserData({\r\n            ...userData,\r\n            lastName: value\r\n        })\r\n\r\n        if (value !== '') {\r\n            logLastNameErr(!nameValidate(value))\r\n        } else {\r\n            logLastNameErr(false)\r\n        }\r\n    }\r\n\r\n    const getPrePass = (e) => {\r\n        let value = e.target.value || ''\r\n        value = value.trim()\r\n        setPrePass(value)\r\n    }\r\n\r\n    const confirmPass = (e) => {\r\n        let value = e.target.value || ''\r\n        value = value.trim()\r\n        setUserData({\r\n            ...userData,\r\n            password: value\r\n        })\r\n\r\n        if (value === '') {\r\n            setPassCheck(false)\r\n        }\r\n        else if (value === prePass && value.length >= 6) {\r\n            setPassCheck(false)\r\n        } else {\r\n            setPassCheck(true)\r\n        }\r\n    }\r\n\r\n    const checkValidate = () => {\r\n        if (!emailErr && !usernameErr && !firstNameErr && !lastNameErr && !passCheck) {\r\n            return true\r\n        } else return false\r\n    }\r\n\r\n    const submitHandle = (e) => {\r\n        if (checkValidate()) {\r\n            const user = { ...userData }\r\n            api('POST', '/api/sign-up', user)\r\n                .then(res => {\r\n                    const { data } = res\r\n                    const { token } = data\r\n\r\n                    if (data.logged) {\r\n                        const userInfo = data.userData\r\n                        token && Cookies.set('userToken', token, { expires: 7 })\r\n\r\n                        localStorage.setItem('logged', true)\r\n                        localStorage.setItem('firstName', userInfo.firstName)\r\n                        localStorage.setItem('lastName', userInfo.lastName)\r\n                        localStorage.setItem('userId', userInfo.id)\r\n                        localStorage.setItem('userImage', userInfo.image)\r\n                        localStorage.setItem('userBio', userInfo.bio)\r\n                        props.getUserInfo()\r\n\r\n                        history.replace({ pathname: '/' })\r\n                    } else {\r\n                        alert('Tên tài khoản đã tồn tại, vui lòng chọn tên khác!.')\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    console.log(err)\r\n                })\r\n                .then(() => {\r\n                    console.log('done')\r\n                })\r\n        } else {\r\n            alert('Thông tin không hợp lệ!')\r\n        }\r\n\r\n        e.preventDefault()\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className='sign-in-container'>\r\n                <div className='sign-in-header'>\r\n                    <div className='sign-in-logo-wrapper'>\r\n                        <Link to='/'>\r\n                            <img src='/images/pageLogo.png' alt='logo' />\r\n                        </Link>\r\n                    </div>\r\n                    <h1 className='sign-in-title'>Sign up to MB<span style={{ color: '#5073FF' }}>log</span></h1>\r\n                </div>\r\n                <form onSubmit={(e) => submitHandle(e)} id='sign-in-form'>\r\n                    <span style={{ fontFamily: 'myFirstFontLight' }}>Full name:</span>\r\n                    <div className='form-name'>\r\n                        <input onChange={(e) => firstNameValidation(e)} className={firstNameErr ? 'validate-error' : ''} required name='firstName' placeholder='First name' />\r\n                        <input onChange={(e) => lastNameValidation(e)} className={lastNameErr ? 'validate-error' : ''} required name='lastName' placeholder='Last name' />\r\n                    </div>\r\n                    <label htmlFor='email'>Email: </label>\r\n                    <input onChange={(e) => emailValidation(e)} className={emailErr ? 'validate-error' : ''} required id='email' placeholder='example@email.com' name='email' />\r\n\r\n                    <label htmlFor='username'>Username: </label>\r\n                    <input onChange={(e) => usernameValidation(e)} className={usernameErr ? 'validate-error' : ''} required id='username' placeholder='username123' name='username' />\r\n                    <label htmlFor='password'>Password: </label>\r\n                    <input onChange={(e) => getPrePass(e)} required type='password' placeholder='a-z, 0-9, at least 6 characters' id='password' name='password' />\r\n                    <label htmlFor='re-password'>Confirm Password: </label>\r\n                    <input onChange={(e) => confirmPass(e)} required className={passCheck ? 'validate-error' : ''} type='password' id='re-password' placeholder='******' name='rePassword' />\r\n                    <div className='form-btn'>\r\n                        <Link to='/sign-in' className='sign-btn'>\r\n                            Sign in\r\n                        </Link>\r\n                        <button className='sign-btn active'>\r\n                            Sign up\r\n                        </button>\r\n                    </div>\r\n\r\n                </form>\r\n\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapActionsToProps = {\r\n    getUserInfo\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        web: state.web\r\n    }\r\n}\r\n\r\nconst SignIn = connect(mapStateToProps, mapActionsToProps)(SignInSelector)\r\n\r\n\r\nexport default SignIn","import { useEffect, useState, useRef } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport api from '../../utils/axios'\r\nimport { connect } from 'react-redux'\r\nimport getImage from '../../utils/getImage'\r\nimport Cookies from 'js-cookie'\r\n\r\nconst MeSelector = (props) => {\r\n\r\n  const history = useHistory()\r\n  const { web } = props\r\n\r\n  const firstNameEl = useRef(null)\r\n  const lastNameEl = useRef(null)\r\n  const bioEl = useRef(null)\r\n  const oldPassEl = useRef(null)\r\n  const newPassEl = useRef(null)\r\n  const confirmPassEl = useRef(null)\r\n\r\n  const [tempBio, setTempBio] = useState('Create your bio')\r\n  const [changeForm, setChangeForm] = useState(false)\r\n  const [data, getData] = useState({ name: '', path: '' })\r\n  const [file, setFile] = useState(null)\r\n  const [oldPassErr, setOldPassErr] = useState(false)\r\n  const [newPassErr, setNewPassErr] = useState(false)\r\n  const [confirmPassErr, setConfirmPassErr] = useState(false)\r\n  const [changingPass, setChangingPass] = useState(false)\r\n  const [userPosts, setUserPosts] = useState(0)\r\n\r\n  const handleOldPass = (e) => {\r\n    let value = e.target.value\r\n    value = value.trim()\r\n    if(value.length < 6) {\r\n      setOldPassErr(true)\r\n    } else {\r\n      setOldPassErr(false)\r\n    }\r\n\r\n    if(value === '') {\r\n      setOldPassErr(false)\r\n    }\r\n  }\r\n\r\n  const handleNewPass = (e) => {\r\n    let value = e.target.value\r\n    value = value.trim()\r\n    if(value.length < 6) {\r\n      setNewPassErr(true)\r\n    } else {\r\n      setNewPassErr(false)\r\n    }\r\n\r\n    if(value === '') {\r\n      setNewPassErr(false)\r\n    }\r\n  \r\n  }\r\n\r\n  const closeChangePass = () => {\r\n    oldPassEl.current.value = null\r\n    newPassEl.current.value = null\r\n\r\n    setChangingPass(false)\r\n  }\r\n\r\n  const handleConfirmPass = (e) => {\r\n    let value = e.target.value\r\n    value = value.trim()\r\n\r\n    if(value !== newPassEl.current.value) {\r\n      setConfirmPassErr(true)\r\n    } else {\r\n      setConfirmPassErr(false)\r\n    }\r\n\r\n    if(value === '') {\r\n      setConfirmPassErr(false)\r\n    }\r\n\r\n  }\r\n\r\n  const handleSubmit = () => {\r\n    const firstName = firstNameEl.current.value && firstNameEl.current.value.length > 0 && firstNameEl.current.value || web.user.firstName\r\n    const lastName = lastNameEl.current.value && lastNameEl.current.value.length > 0 && lastNameEl.current.value || web.user.lastName\r\n    const bio = bioEl.current.value && bioEl.current.value.length > 0 && bioEl.current.value || web.user.userBio\r\n    const oldPass = oldPassEl.current.value && oldPassEl.current.value.length > 5 && oldPassEl.current.value || null\r\n    const newPass = newPassEl.current.value && newPassEl.current.value.length > 5 && newPassEl.current.value || null\r\n    \r\n    const data = {\r\n      file,\r\n      firstName,\r\n      lastName,\r\n      bio,\r\n      newPass,\r\n      oldPass\r\n    }\r\n\r\n    if(!oldPassErr && !newPassErr && !confirmPassErr) {\r\n      api('POST', 'api/me', data)\r\n        .then(res => {\r\n          if (res.data && res.data.status) {\r\n            const { newInfo } = res.data\r\n            localStorage.setItem('firstName', newInfo.firstName)\r\n            localStorage.setItem('lastName', newInfo.lastName)\r\n            localStorage.setItem('userBio', newInfo.bio)\r\n            const { newToken } = res.data\r\n  \r\n            if(newToken && newToken.length > 0) {\r\n              Cookies.set('userToken', newToken)\r\n            }\r\n  \r\n            setChangeForm(false)\r\n            window.location.reload()\r\n          } else {\r\n            console.log(res.data)\r\n          }\r\n        })\r\n    }\r\n  }\r\n\r\n  const changeAvt = () => {\r\n    const formData = new FormData()\r\n    formData.append('file', file)\r\n    formData.append('oldFile', web.user.userImage)\r\n    api('POST', 'api/me/avt', formData)\r\n      .then(res => {\r\n        if (res.data && res.data.status) {\r\n          localStorage.setItem('userImage', res.data.newImage)\r\n          window.location.reload()\r\n        }\r\n      })\r\n\r\n  }\r\n\r\n  const handleAvtChange = (e) => {\r\n    const selectedFile = e.target.files[0]\r\n    setFile(selectedFile)\r\n\r\n    const reader = new FileReader()\r\n    reader.onloadend = (e) => {\r\n      const url = reader.result\r\n      getData({ name: 'manh', path: url })\r\n    }\r\n\r\n    if (selectedFile && selectedFile.type.match('image.*')) {\r\n      reader.readAsDataURL(selectedFile)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    props.dispatch({ type: 'GET_USERINFOR' })\r\n\r\n    api('GET', '/api/me')\r\n      .then(res => {\r\n        console.log(res.data)\r\n\r\n        if (res.data && res.data.status) {\r\n          setUserPosts(res.data.posts)\r\n        } else {\r\n          console.log(res.data)\r\n          history.replace({ pathname: '/sign-in' })\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log('loi')\r\n        console.log(err)\r\n      })\r\n  }, [])\r\n\r\n  return (\r\n    <div className='profile'>\r\n      <div className='edit-form' hidden={!changeForm}>\r\n        <button onClick={() => setChangeForm(false)} className='back-btn'>\r\n          <i className=\"fas fa-times\"></i>\r\n        </button>\r\n        <div className='edit-form-container'>\r\n          <h3>Edit your profile</h3>\r\n          <div className='edit-form-input'>\r\n            <input ref={firstNameEl} placeholder={web.user.firstName} />\r\n            <input ref={lastNameEl} placeholder={web.user.lastName} />\r\n            <input ref={bioEl} placeholder={web.user.userBio} />\r\n          </div>\r\n          <div className='password-form'>\r\n            <p onClick={() => setChangingPass(true)}>Change Password</p>\r\n            <div className='change-pass-container' hidden={!changingPass}>\r\n            <i onClick={closeChangePass} className=\"fas fa-times-circle\"></i>\r\n              <input onChange={handleOldPass} ref={oldPassEl} type='password' style={{borderColor: oldPassErr && 'rgb(231, 100, 100)'}} placeholder='current password'></input>\r\n              <input onChange={handleNewPass} ref={newPassEl} type='password' style={{borderColor: newPassErr && 'rgb(231, 100, 100)'}} placeholder='new password'></input>\r\n              <input onChange={handleConfirmPass} ref={confirmPassEl} type='password' style={{borderColor: confirmPassErr && 'rgb(231, 100, 100)'}} placeholder='confirm password'></input>\r\n            </div>\r\n          </div>\r\n          <button disabled={!(!oldPassErr && !newPassErr && !confirmPassErr)} style={{cursor: !(!oldPassErr && !newPassErr && !confirmPassErr) && 'no-drop' || 'pointer'}} onClick={handleSubmit}>Submit</button>\r\n        </div>\r\n      </div>\r\n      <div className='profile-container'>\r\n        <div className='profile-header-container'>\r\n          <div className='profile-header'>\r\n            <Link to='/'>\r\n              <i className=\"fas fa-arrow-left\"></i>\r\n            </Link>\r\n            <h1>Profile</h1>\r\n          </div>\r\n        </div>\r\n        <div className='profile-body'>\r\n          <div className='body-user-info'>\r\n            <div className='avt-wrapper'>\r\n              <img src={file ? data.path : getImage(web.user.userImage)} />\r\n              <label htmlFor='change-avt' className='change-avt'>\r\n                <i className=\"fas fa-camera\"></i>\r\n                <input id='change-avt' onChange={handleAvtChange} type='file' placeholder='avatar' />\r\n              </label>\r\n            </div>\r\n            <div className='user-bio'>\r\n              {\r\n                file &&\r\n                <button onClick={changeAvt} className='change-avt-btn'>Save</button>\r\n              }\r\n              <p>{`${web.user && web.user.firstName} ${web.user && web.user.lastName}`}</p>\r\n              <span>{web.user.userBio}</span>\r\n            </div>\r\n            <div className='user-data'>\r\n              <div className='follow-data'>\r\n                <span>123</span>\r\n                <Link to='/'>Follow</Link>\r\n              </div>\r\n              <div className='following-data'>\r\n                <span>123</span>\r\n                <Link to='/'>Following</Link>\r\n              </div>\r\n              <div className='post-data'>\r\n                <span>{userPosts || 0}</span>\r\n                <a href={`/posts/me`}>posts</a>\r\n              </div>\r\n            </div>\r\n            <div className='option'>\r\n              <button className='setting' onClick={() => setChangeForm(true)}>\r\n                <i className=\"fas fa-user-edit\"></i>\r\n              </button>\r\n              <Link to='/sign-in' className='close-btn'>\r\n                <i className=\"fas fa-power-off\"></i>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  web: state.web\r\n})\r\n\r\nconst Me = connect(mapStateToProps)(MeSelector)\r\n\r\nexport default Me","import { Link } from 'react-router-dom'\r\n\r\nconst BreadCumb = (props) => {\r\n\r\n  const { category, detail } = props\r\n\r\n  return (\r\n    <div id='main_bread-crumb'>\r\n      <div className='bc-container'>\r\n        <ul>\r\n          <li className='bc-home'>\r\n            <Link to='/'>\r\n              <i className=\"fas fa-home\"></i>\r\n            </Link>\r\n          </li>\r\n          <li className='bc-category'>\r\n            <Link to='/'>\r\n              <span>\r\n                {category || ''}\r\n              </span>\r\n            </Link>\r\n          </li>\r\n          <li className='bc-detail'>\r\n            <span>\r\n              {detail || ''}\r\n            </span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BreadCumb","import MainTemplate from '../../layouts/MainLayout'\r\nimport BreadCumb from '../../components/BreadCrumb'\r\nimport { Link, useHistory, useParams } from 'react-router-dom'\r\nimport TextareaAutosize from 'react-textarea-autosize'\r\nimport api from '../../utils/axios'\r\nimport { useState, useEffect, useRef } from 'react'\r\nimport { date } from '../../utils'\r\nimport getImage from '../../utils/getImage'\r\nimport { connect } from 'react-redux'\r\n\r\nconst DetailEl = (props) => {\r\n  const { web } = props\r\n\r\n  const history = useHistory()\r\n  const [post, setPost] = useState({})\r\n  const [cmtLoading, setCmtLoading] = useState(false)\r\n  const [comments, setComments] = useState([])\r\n  const [relatedPosts, setRelatedPosts] = useState([])\r\n\r\n  const { title } = useParams()\r\n  const commentEl = useRef(null)\r\n\r\n  useEffect(() => {\r\n    //get page\r\n    api('GET', `api/posts/${title}`)\r\n      .then(res => {\r\n        if (res.data && res.data.status) {\r\n          const postData = res.data.post\r\n          if (postData.like.filter(x => x._id === web.user.userId).length > 0) {\r\n            postData.liked = true\r\n          }\r\n          setPost(postData)\r\n          return res.data.post\r\n        } else {\r\n          console.log('err')\r\n        }\r\n      })\r\n      .catch(err => console.log(err))\r\n      .then((post) => {\r\n        api('GET', `api/posts/comment/${post._id}?page=${1}`)\r\n          .then(res2 => {\r\n            if (res2.data && res2.data.status) {\r\n              setComments(res2.data.comments)\r\n            }\r\n          })\r\n        return post\r\n      })\r\n      .then((post) => {\r\n        const categoryId = post.category && post.category._id || null\r\n        api('GET', `api/posts/v1/filter?category=${categoryId}`)\r\n          .then(res => {\r\n            if (res.data && res.data.status) {\r\n              setRelatedPosts(res.data.relatedPost)\r\n            }\r\n          })\r\n          .catch(err => console.log(err))\r\n      })\r\n\r\n\r\n  }, [])\r\n\r\n  const sendComment = () => {\r\n    setCmtLoading(true)\r\n    const value = commentEl.current.value\r\n\r\n    const postData = {\r\n      postId: post._id,\r\n      content: value\r\n    }\r\n\r\n    api('POST', `/api/posts/comment/${post._id}`, postData)\r\n      .then(res => {\r\n        if (res.data && res.data.status) {\r\n          commentEl.current.value = ''\r\n\r\n          let newComtList = comments\r\n          if (comments.length > 3)\r\n            newComtList = comments.slice(1)\r\n          setComments(\r\n            [\r\n              ...newComtList,\r\n              {\r\n                user: {\r\n                  _id: web.user.userId,\r\n                  firstName: web.user.firstName,\r\n                  lastName: web.user.lastName,\r\n                  image: web.user.userImage\r\n                },\r\n                ...postData\r\n              }\r\n            ]\r\n          )\r\n\r\n        } else {\r\n          if (res.data.message === 'vui long dang nhap') {\r\n            history.replace({ pathname: '/sign-in' })\r\n          }\r\n        }\r\n      })\r\n      .catch(err => console.log(err))\r\n      .then(() => setCmtLoading(false))\r\n  }\r\n\r\n  const like = () => {\r\n    api('POST', `api/posts/like/${post._id}`)\r\n      .then(res => console.log(res))\r\n  }\r\n\r\n  const unlike = () => {\r\n    api('POST', `api/posts/unlike/${post._id}`)\r\n      .then(res => console.log(res))\r\n  }\r\n\r\n  const likeHandle = (likeList) => {\r\n    const userId = web.user.userId\r\n\r\n    const result = likeList.filter(e => e._id === userId).length > 0\r\n    if (result) {\r\n      unlike()\r\n      const newLikeList = likeList.filter(e => e._id !== userId)\r\n      setPost({\r\n        ...post,\r\n        liked: false,\r\n        like: newLikeList\r\n      })\r\n    } else {\r\n      like()\r\n      likeList.push({ postId: post._id, _id: userId })\r\n      setPost({\r\n        ...post,\r\n        liked: true,\r\n        like: likeList\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <MainTemplate>\r\n      <div id='post-detail'>\r\n        <BreadCumb category={post.category && post.category.name || 'Đang cập nhật'} detail={post.title} />\r\n\r\n        <div className='detail-container'>\r\n          <div className='row'>\r\n            <div className='col-12 col-sm-12 col-md-12 col-lg-9 col-xl-9'>\r\n              <div className='detail-create-date'>\r\n                <i className=\"far fa-clock\"></i>\r\n                <span>{date(post.createDate)}</span>\r\n              </div>\r\n              <div className='detail-create-date'>\r\n                <i className=\"fas fa-hashtag\"></i>\r\n                <span>{post.category && post.category.name || 'Đang cập nhật...'}</span>\r\n              </div>\r\n              <div className='detail-author'>\r\n                <i className=\"far fa-user\"></i>\r\n                <Link to='/'>\r\n                  {post.author && `${post.author && post.author.firstName} ${post.author && post.author.lastName}` || \"Đang cập nhật...\"}\r\n                </Link>\r\n              </div>\r\n              <div className='detail-title'>\r\n                <h1 className='title'>\r\n                  {post.title}\r\n                </h1>\r\n              </div>\r\n              <div className='detail-img-wrapper'>\r\n                <img width='100%' src={getImage(post.image)} />\r\n              </div>\r\n              <div className='detail-content'>\r\n                <div className='content-html' dangerouslySetInnerHTML={{ __html: post.content }}>\r\n\r\n                </div>\r\n              </div>\r\n              {\r\n                post.source !== 'null' &&\r\n                <p style={{ opacity: 0.7, fontSize: '0.9rem', fontStyle: 'italic', marginTop: 20, display: 'block', textAlign: 'right' }}>Nguồn: {post.source || null}</p>\r\n              }\r\n            </div>\r\n            <div className='col-12 col-sm-12 col-md-12 col-lg-3 col-xl-3'>\r\n              <div className='detail-tools-container'>\r\n                <button className='like' onClick={() => likeHandle(post.like)}>\r\n                  {\r\n                    post.liked &&\r\n                    <>\r\n                      <i className=\"fas fa-heart\"></i>\r\n                      <span>{`You ${post.like && post.like.length > 1 ? `and ${post.like && post.like.length - 1} others` : ''}`}</span>\r\n                    </>\r\n                    ||\r\n                    <>\r\n                      <i className=\"far fa-heart\"></i>\r\n                      <span>{`${post.like && post.like.length === 0 ? `Like this post` : `${post.like && post.like.length} people`}`}</span>\r\n                    </>\r\n                  }\r\n                </button>\r\n                <button className='share'>\r\n                  <i className=\"fas fa-share\"></i>\r\n                </button>\r\n                <button className='add'>\r\n                  <i className=\"far fa-plus-square\"></i>\r\n                </button>\r\n              </div>\r\n              <div className='comments'>\r\n                <div className='comment-list'>\r\n                  {\r\n                    comments && comments.length > 0 &&\r\n                    <ul>\r\n                      {\r\n                        comments.map(item => (\r\n                          <li key={item.id} className='comment-item'>\r\n                            <div className='comment-author'>\r\n                              <Link to='/'>\r\n                                <img src={getImage(item.user.image)} />\r\n                              </Link>\r\n                              <Link to='/'>\r\n                                {`${item.user.firstName} ${item.user.lastName}`}\r\n                              </Link>\r\n\r\n                            </div>\r\n                            <div className='comment-content'>\r\n                              <p>\r\n                                {item.content}\r\n                              </p>\r\n                            </div>\r\n                          </li>\r\n                        ))\r\n                      }\r\n                      {\r\n                        cmtLoading &&\r\n                        <li className='detail-comment-loading'>\r\n                          <img src='/images/cmtloading.gif' />\r\n                        </li>\r\n                      }\r\n                    </ul>\r\n                    ||\r\n                    <p className='detail-comemnt-list comment-alert'>There are not any comment. write your mind?</p>\r\n                  }\r\n                </div>\r\n                <div className='user-comment'>\r\n                  <img src={getImage(web.user.userImage)} />\r\n                  <div className='comment-input-container'>\r\n                    <TextareaAutosize ref={commentEl} placeholder='comment...' className='comment-input' />\r\n                    <button onClick={sendComment}>\r\n                      <i className=\"far fa-paper-plane\"></i>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              {\r\n                relatedPosts && relatedPosts.length > 1 &&\r\n                <div className='detail-relation-container'>\r\n                  <p class='relate'>Related posts</p>\r\n                  <ul>\r\n                    {\r\n                      relatedPosts.map((item, index) => {\r\n                        if (item._id !== post._id && index <= 5) {\r\n                          return (\r\n                            <li key={item._id}>\r\n                              <div className='detail-relate-item-container'>\r\n                                <div className='detail-relate-thumb'>\r\n                                  <a href={`/posts/${item.slug}`}>\r\n                                    <img src={getImage(item.image)} />\r\n                                  </a>\r\n                                </div>\r\n                                <div className='detail-relate-info'>\r\n                                  <a href={`/posts/${item.slug}`}>\r\n                                    <h2>\r\n                                      {item.title}\r\n                                    </h2>\r\n                                  </a>\r\n                                  <div className='detail-relate-author'>\r\n                                    <i className=\"far fa-user\"></i>\r\n                                    <span>{`${item.author && item.author.firstName} ${item.author && item.author.lastName}`}</span>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </li>\r\n                          )\r\n                        }\r\n                      })\r\n                    }\r\n                  </ul>\r\n                  <Link to='/' class='more'>see more</Link>\r\n                </div>\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </MainTemplate >\r\n  )\r\n}\r\nconst mapStateToProps = (state) => ({\r\n  web: state.web\r\n})\r\nconst Detail = connect(mapStateToProps)(DetailEl)\r\nexport default Detail","import moment from 'moment'\r\n\r\nexport const date = (date) => {\r\n  return moment(date).format('DD/MM/YYYY')\r\n}","const toSlug = (str) => {\r\n  str = str.replace(/^\\s+|\\s+$/g, '') //trim\r\n  str = str.toLowerCase()\r\n\r\n  const from = \"aáàảạãẳắặằẵâấầậẩẫeèéẻẹẽêếềễểệiíỉịĩìyỳỹỷỵýuùúủụũưứừửựũoóòỏọõôốồổộỗơớờởợõđ /_,:;\"\r\n  const to = \"aaaaaaaaaaaaaaaaaeeeeeeeeeeeeiiiiiiyyyyyyuuuuuuuuuuuuooooooooooooooooood------\"\r\n\r\n  for (let i = 0; i < from.length; i++) {\r\n    str = str.replace(new RegExp(from.charAt(i), 'g'), to.charAt(i));\r\n  }\r\n\r\n  str = str.replace(/[^a-z0-9 -]/g, '') // remove invalid chars\r\n    .replace(/\\s+/g, '-') // collapse whitespace and replace by -\r\n    .replace(/-+/g, '-'); // collapse dashes\r\n\r\n  return str;\r\n}\r\n\r\nexport default toSlug","import TextareaAutosize from 'react-textarea-autosize'\r\nimport { useState, useRef, useEffect } from 'react'\r\nimport api from '../../utils/axios'\r\nimport toSlug from '../../utils/toSlug'\r\nimport { useHistory, Link, useLocation } from 'react-router-dom'\r\nimport { CKEditor } from '@ckeditor/ckeditor5-react'\r\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic'\r\n\r\nconst defaultValue = {\r\n  select: 'Choose',\r\n  title: 'Title',\r\n  shortDesc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Erat ut facilisis rutrum donec tristique mauris est ac nunc. Eget nec, lorem mi libero accumsan',\r\n  category: 'Category',\r\n  source: null\r\n}\r\n\r\nconst Create = () => {\r\n  const history = useHistory()\r\n\r\n  const [title, setTitle] = useState(defaultValue.title)\r\n  const [desc, setDesc] = useState(defaultValue.shortDesc)\r\n  const [cate, setCate] = useState(defaultValue.category)\r\n  const [file, setFile] = useState('')\r\n  const [data, getData] = useState({ name: '', path: '/images/test/item.jpeg' })\r\n  const [categories, setCategories] = useState([])\r\n  const [select, setSelect] = useState(false)\r\n  const [content, setContent] = useState('')\r\n  const titleEl = useRef(null)\r\n  const cateEl = useRef(null)\r\n  const shortDescEl = useRef(null)\r\n  const newCateEl = useRef(null)\r\n  const sourceEl = useRef(null)\r\n\r\n  useEffect(() => {\r\n    api('GET', '/api/auth')\r\n      .then(res => {\r\n        if (res.data && !res.data.status) {\r\n          setTimeout(() => {\r\n            history.replace({ pathname: '/sign-in' })\r\n          }, 1000)\r\n        }\r\n      })\r\n      .then(() => {\r\n        api('GET', 'api/posts/create')\r\n          .then(res => {\r\n            if (res.data && res.data.category) {\r\n              setCategories(res.data.category)\r\n            }\r\n          })\r\n      })\r\n      .catch(err => console.log(err))\r\n  }, [])\r\n\r\n  const handleChange = (e) => {\r\n    const selectedFile = e.target.files[0]\r\n    setFile(selectedFile)\r\n    const reader = new FileReader()\r\n    reader.onloadend = (e) => {\r\n      const url = reader.result\r\n      getData({ name: 'manh', path: url })\r\n    }\r\n\r\n    if (selectedFile && selectedFile.type.match('image.*')) {\r\n      reader.readAsDataURL(selectedFile)\r\n    }\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    const formData = new FormData()\r\n    const currentTitle = titleEl.current.value\r\n    const currentShortDesc = shortDescEl.current.value\r\n    const currentcontent = content\r\n    const cateObj = cateEl.current.value\r\n    const currentSource = sourceEl.current.value.length > 0 && sourceEl.current.value || null\r\n    const newCate = newCateEl.current.value.length > 0 && newCateEl.current.value || null\r\n    const slug = toSlug(currentTitle)\r\n    const currentCate = cateObj !== defaultValue.select && JSON.parse(cateObj)\r\n\r\n    formData.append('title', currentTitle)\r\n    formData.append('shortDesc', currentShortDesc)\r\n    formData.append('content', currentcontent)\r\n    formData.append('source', currentSource)\r\n    currentCate && formData.append('categoryId', currentCate._id)\r\n    formData.append('image', file)\r\n    formData.append('slug', slug)\r\n    newCate && formData.append('newCate', newCate)\r\n\r\n    api('POST', '/api/posts/create', formData)\r\n      .then(res => {\r\n        if (res.data && res.data.status) {\r\n          history.replace({ pathname: '/' })\r\n        } else {\r\n          alert(res.data.message)\r\n        }\r\n      })\r\n      .catch(err => console.log('this is err: ', err))\r\n      \r\n  }\r\n\r\n  const changeTitle = (e) => {\r\n    let value = e.target.value\r\n    if (value === '') {\r\n      value = defaultValue.title\r\n    }\r\n    setTitle(value)\r\n  }\r\n\r\n  const createNewCate = (e) => {\r\n    let value = e.target.value\r\n    value = value.trim()\r\n    if (value.length > 0) {\r\n      setSelect(true)\r\n      setCate(value)\r\n    } else {\r\n      if (cateEl.current.value !== defaultValue.select) {\r\n        setCate(JSON.parse(cateEl.current.value).name)\r\n      } else {\r\n        setCate(defaultValue.category)\r\n      }\r\n      setSelect(false)\r\n    }\r\n  }\r\n\r\n  const changeCate = (e) => {\r\n    let value = e.target.value\r\n    value = JSON.parse(value)\r\n\r\n    if (value.name === '') {\r\n      value = defaultValue.category\r\n    }\r\n\r\n    setCate(value.name)\r\n  }\r\n\r\n  const changeDesc = (e) => {\r\n    let value = e.target.value\r\n    if (value === '') {\r\n      value = defaultValue.shortDesc\r\n    }\r\n    setDesc(value)\r\n  }\r\n\r\n  return (\r\n    <div className='create-post'>\r\n      <div className='create-container'>\r\n        <Link className='back-to-home' to='/'>\r\n          <i className=\"fas fa-arrow-left\"></i>\r\n        </Link>\r\n        <h1> Create your own post</h1>\r\n        <div className='row'>\r\n          <div className='col-12 col-sm-12 col-md-12 col-lg-8 col-xl-8'>\r\n            <div className='create-form'>\r\n              <div className='create-title'>\r\n                <label htmlFor='create_title'>Title</label>\r\n                <input ref={titleEl} onChange={(e) => { changeTitle(e) }} placeholder='ex: How to create React app' id='create_title' />\r\n                <p>The title of the post, max 128 charecters</p>\r\n              </div>\r\n              <div className='create-category'>\r\n                <label htmlFor='crate-cate-select'>Category:</label>\r\n                <select required={!select} disabled={select} onChange={(e) => changeCate(e)} id='create-cate-select' ref={cateEl} name=\"categories\" id=\"categories\">\r\n                  <option defaultValue=\"\" selected disabled hidden>{defaultValue.select}</option>\r\n                  {\r\n                    categories && categories.length > 0 &&\r\n                    categories.map(item =>\r\n                      <option key={item.id} value={JSON.stringify(item)}>\r\n                        {item.name}\r\n                      </option>\r\n                    )\r\n                    ||\r\n                    <option defaultValue=\"\" disabled>Thêm mới</option>\r\n                  }\r\n                </select>\r\n                <label style={{ marginLeft: 20 }} htmlFor='create-cate-create'>Create New</label>\r\n                <input required={!select} ref={newCateEl} onChange={createNewCate} id='create-cate-create' />\r\n              </div>\r\n              <div className='create-img'>\r\n                <label htmlFor='create_image'>Thumbnail image</label>\r\n                <input onChange={handleChange} type='file' id='create_image' />\r\n                <p>The main image of the post</p>\r\n              </div>\r\n              <div className='create-shortdesc'>\r\n                <label htmlFor='create_shortdesc'>Short description</label>\r\n                <textarea ref={shortDescEl} onChange={(e) => { changeDesc(e) }} id='create_shortdesc' />\r\n                <p>The short description on the thumb, , max 512 charecters </p>\r\n              </div>\r\n              <div className='create-source'>\r\n                <label htmlFor='create_source'>Source</label>\r\n                <textarea ref={sourceEl} id='create_source' placeholder='if you share from another source' />\r\n              </div>\r\n              <div className='create-content'>\r\n                <label htmlFor='create_content'>Content</label>\r\n                <CKEditor\r\n                className='about'\r\n                    editor={ ClassicEditor }\r\n                    data=\"<p>Type and edit your the content!</p>\"\r\n                    onReady={ editor => {\r\n                        // You can store the \"editor\" and use when it is needed.\r\n                    } }\r\n                    onChange={ ( event, editor ) => {\r\n                        const data = editor.getData();\r\n                        setContent(data)\r\n                    } }\r\n                    onBlur={ ( event, editor ) => {\r\n                    } }\r\n                    onFocus={ ( event, editor ) => {\r\n                    } }\r\n                />\r\n                <p>The Content on the thumb</p>\r\n              </div>\r\n              <button onClick={handleSubmit}>Post</button>\r\n            </div>\r\n          </div>\r\n          <div className='col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4'>\r\n            <div className='create-demo'>\r\n              <div className='first-container'>\r\n                <div className='first-thumb'>\r\n                  <img onError=\"../images/test/item.jpeg\" src={`${data.path}`} alt='img' />\r\n                </div>\r\n                <div className='first-infor'>\r\n                  <p to='/' className='first-category'>\r\n                    {cate}\r\n                  </p>\r\n                  <span to='/' className='first-title'>\r\n                    {title}\r\n                  </span>\r\n                  <p className='first-desc'>\r\n                    {desc}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Create","import TextareaAutosize from 'react-textarea-autosize'\r\nimport { useState, useRef, useEffect } from 'react'\r\nimport api from '../../utils/axios'\r\nimport toSlug from '../../utils/toSlug'\r\nimport { useHistory, Link, useParams } from 'react-router-dom'\r\nimport getImage from '../../utils/getImage'\r\nimport { CKEditor } from '@ckeditor/ckeditor5-react'\r\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic'\r\n\r\nconst defaultValue = {\r\n  select: 'choose'\r\n}\r\n\r\nconst Update = () => {\r\n  const postId = useParams().postId || null\r\n\r\n  const history = useHistory()\r\n\r\n  const [title, setTitle] = useState(defaultValue.title)\r\n  const [desc, setDesc] = useState(defaultValue.shortDesc)\r\n  const [cate, setCate] = useState(defaultValue.category)\r\n  const [file, setFile] = useState(null)\r\n  const [data, getData] = useState({ name: '', path: '/images/defaultimg.jpg' })\r\n  const [categories, setCategories] = useState([])\r\n  const [select, setSelect] = useState(false)\r\n  const [originData, setOriginData] = useState({})\r\n\r\n  const titleEl = useRef(null)\r\n  const cateEl = useRef(null)\r\n  const shortDescEl = useRef(null)\r\n  const newCateEl = useRef(null)\r\n  const sourceEl = useRef(null)\r\n  const [content, setContent] = useState('')\r\n\r\n  useEffect(() => {\r\n    api('GET', '/api/auth')\r\n      .then(res => {\r\n        if (res.data && !res.data.status) {\r\n          setTimeout(() => {\r\n            history.replace({ pathname: '/sign-in' })\r\n          }, 1000)\r\n        }\r\n      })\r\n      .then(() => {\r\n        api('GET', 'api/posts/create')\r\n          .then(res => {\r\n            if (res.data && res.data.category) {\r\n              setCategories(res.data.category)\r\n            }\r\n          })\r\n      })\r\n      .catch(err => console.log(err))\r\n\r\n    api('GET', `api/posts/update/${postId}`)\r\n      .then(res => {\r\n        if(res.data && res.data.status) {\r\n          setOriginData(res.data.post)\r\n          titleEl.current.value = res.data.post.title\r\n          shortDescEl.current.value = res.data.post.description\r\n          setContent(res.data.post.content)\r\n          cateEl.current.value = JSON.stringify(res.data.post.category)\r\n          setCate(res.data.post.category && res.data.post.category.name || 'Đang cập nhật')\r\n          setTitle(res.data.post.title)\r\n          setDesc(res.data.post.description)\r\n          getData({\r\n            ...data,\r\n            path: getImage(res.data.post.image)\r\n          })\r\n        }\r\n      })\r\n      .catch(err => console.log(err))\r\n\r\n  }, [])\r\n\r\n  const handleChange = (e) => {\r\n    const selectedFile = e.target.files[0]\r\n    \r\n    setFile(selectedFile)\r\n    const reader = new FileReader()\r\n    reader.onloadend = (e) => {\r\n      const url = reader.result\r\n      getData({ name: 'manh', path: url })\r\n    }\r\n\r\n    if (selectedFile && selectedFile.type.match('image.*')) {\r\n      reader.readAsDataURL(selectedFile)\r\n    }\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    const formData = new FormData()\r\n    const currentTitle = titleEl.current.value\r\n    const currentShortDesc = shortDescEl.current.value\r\n    const currentSource = sourceEl.current.value.length > 0 && sourceEl.current.value || originData.source\r\n    const cateObj = cateEl.current.value\r\n    const newCate = newCateEl.current.value.length > 0 && newCateEl.current.value || null\r\n    const slug = toSlug(currentTitle)\r\n    const currentCate = cateObj !== defaultValue.select && JSON.parse(cateObj)\r\n\r\n    formData.append('title', currentTitle)\r\n    formData.append('shortDesc', currentShortDesc)\r\n    formData.append('content', content)\r\n    formData.append('source', currentSource)\r\n    currentCate && formData.append('categoryId', currentCate._id)\r\n    formData.append('image', file || originData.image)\r\n    formData.append('oldFile', originData.image)\r\n    formData.append('author', originData.author && originData.author._id)\r\n    formData.append('slug', slug)\r\n    newCate && formData.append('newCate', newCate)\r\n\r\n    api('POST', `/api/posts/update/${originData._id}`, formData)\r\n      .then(res => {\r\n        if (res.data && res.data.status) {\r\n          history.replace({ pathname: '/' })\r\n        } else {\r\n          alert(res.data.message)\r\n        }\r\n      })\r\n      .catch(err => console.log('this is err: ', err))\r\n\r\n  }\r\n\r\n  const changeTitle = (e) => {\r\n    let value = e.target.value\r\n    if (value === '') {\r\n      value = originData.title\r\n    }\r\n    setTitle(value)\r\n  }\r\n\r\n  const createNewCate = (e) => {\r\n    let value = e.target.value\r\n    value = value.trim()\r\n    if (value.length > 0) {\r\n      setSelect(true)\r\n      setCate(value)\r\n    } else {\r\n      if (cateEl.current.value !== defaultValue.select) {\r\n        setCate(JSON.parse(cateEl.current.value).name)\r\n      }\r\n      setSelect(false)\r\n    }\r\n  }\r\n\r\n  const changeCate = (e) => {\r\n    let value = e.target.value\r\n    value = JSON.parse(value)\r\n\r\n    if (value.name === '') {\r\n      value = originData.category && originData.category.name || 'Đang cập nhật'\r\n    }\r\n\r\n    setCate(value.name)\r\n  }\r\n\r\n  const changeDesc = (e) => {\r\n    let value = e.target.value\r\n    if (value === '') {\r\n      value = originData.description\r\n      e.target.value = JSON.stringify(originData.category)\r\n    }\r\n    setDesc(value)\r\n  }\r\n\r\n  return (\r\n    <div className='create-post'>\r\n      <div className='create-container'>\r\n        <Link className='back-to-home' to='/'>\r\n          <i className=\"fas fa-arrow-left\"></i>\r\n        </Link>\r\n        <h1> Update your your post</h1>\r\n        <div className='row'>\r\n          <div className='col-12 col-sm-12 col-md-12 col-lg-8 col-xl-8'>\r\n            <div className='create-form'>\r\n              <div className='create-title'>\r\n                <label htmlFor='create_title'>Title</label>\r\n                <input ref={titleEl} onChange={(e) => { changeTitle(e) }} placeholder='ex: How to create React app' id='create_title' />\r\n                <p>The title of the post, max 128 charecters</p>\r\n              </div>\r\n              <div className='create-category'>\r\n                <label htmlFor='crate-cate-select'>Category:</label>\r\n                <select disabled={select} onChange={(e) => changeCate(e)} id='create-cate-select' ref={cateEl} name=\"categories\" id=\"categories\">\r\n                  {\r\n                    categories && categories.length > 0 &&\r\n                    categories.map(item =>\r\n                      <option key={item.id} selected={item.id === originData.category && originData.category._id} value={JSON.stringify(item)}>\r\n                        {item.name}\r\n                      </option>\r\n                    )\r\n                    ||\r\n                    <option defaultValue=\"\" disabled>Thêm mới</option>\r\n                  }\r\n                </select>\r\n                <label style={{ marginLeft: 20 }} htmlFor='create-cate-create'>Create New</label>\r\n                <input ref={newCateEl} onChange={createNewCate} id='create-cate-create' />\r\n              </div>\r\n              <div className='create-img'>\r\n                <label htmlFor='create_image'>Thumbnail image</label>\r\n                <input onChange={handleChange} type='file' id='create_image' />\r\n                <p>The main image of the post</p>\r\n              </div>\r\n              <div className='create-shortdesc'>\r\n                <label htmlFor='create_shortdesc'>Short description</label>\r\n                <textarea ref={shortDescEl} onChange={(e) => { changeDesc(e) }} id='create_shortdesc' />\r\n                <p>The short description on the thumb, , max 512 charecters </p>\r\n              </div>\r\n              <div className='create-source'>\r\n                <label htmlFor='create_source'>Source</label>\r\n                <textarea ref={sourceEl} id='create_source' placeholder='if you share from another source' />\r\n              </div>\r\n              <div className='create-content'>\r\n                <label htmlFor='create_content'>Content</label>\r\n                <CKEditor\r\n                className='about'\r\n                    editor={ ClassicEditor }\r\n                    data={content}\r\n                    onReady={ editor => {\r\n                        // You can store the \"editor\" and use when it is needed.\r\n                    } }\r\n                    onChange={ ( event, editor ) => {\r\n                        const data = editor.getData();\r\n                        setContent(data)\r\n                    } }\r\n                    onBlur={ ( event, editor ) => {\r\n                    } }\r\n                    onFocus={ ( event, editor ) => {\r\n                    } }\r\n                />\r\n                <p>The Content on the thumb</p>\r\n              </div>\r\n              <button onClick={handleSubmit}>Update</button>\r\n            </div>\r\n          </div>\r\n          <div className='col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4'>\r\n            <div className='create-demo'>\r\n              <div className='first-container'>\r\n                <div className='first-thumb'>\r\n                  <img onerror=\"../images/test/item.jpeg\" src={data.path} alt='img' />\r\n                </div>\r\n                <div className='first-infor'>\r\n                  <p to='/' className='first-category'>\r\n                    {cate}\r\n                  </p>\r\n                  <span to='/' className='first-title'>\r\n                    {title}\r\n                  </span>\r\n                  <p className='first-desc'>\r\n                    {desc}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Update","import MainTemplate from '../../layouts/MainLayout'\r\nimport PostListSelector from '../../components/postList'\r\nimport { useState, useEffect } from 'react'\r\nimport { useLocation } from 'react-router-dom'\r\nimport api from '../../utils/axios'\r\nimport toSlug from '../../utils/toSlug'\r\nimport { connect } from 'react-redux'\r\nimport { toggleLoading } from '../../redux/actions/webActions'\r\n\r\nconst useQuery = () => {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nconst SearchSelector = (props) => {\r\n  const param = useQuery().get('q')\r\n  const slug = toSlug(param)\r\n  const [posts, setPosts] = useState([])\r\n\r\n  useEffect(() => {\r\n    props.toggleLoading()\r\n    api('GET', `api/search/${slug}`)\r\n      .then(res => {\r\n        if (res.data && res.data.status) {\r\n          setPosts(res.data.posts)\r\n          props.toggleLoading()\r\n        }\r\n      })\r\n  }, [])\r\n\r\n  return (\r\n    <MainTemplate>\r\n      {\r\n        posts && posts.length > 0 &&\r\n        <>\r\n          <div className='search-result'>\r\n            <p>Result for '{param}' : </p>\r\n          </div>\r\n          <PostListSelector posts={posts} search={true} />\r\n        </>\r\n        ||\r\n        <div className='search-result'>\r\n          <p style={{ color: 'rgb(223, 83, 83)' }}>No result for '{param}'!</p>\r\n        </div>\r\n      }\r\n    </MainTemplate>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  web: state.web\r\n})\r\n\r\nconst mapActionToProps = {\r\n  toggleLoading\r\n}\r\n\r\nconst Search = connect(mapStateToProps, mapActionToProps)(SearchSelector)\r\nexport default Search","import { CKEditor } from '@ckeditor/ckeditor5-react'\r\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic'\r\n\r\nconst About = () => {\r\n\r\n  return (\r\n    <div>\r\n      <h2 >Using CKEditor 5 build in React</h2>\r\n      <CKEditor\r\n        className='about'\r\n        editor={ClassicEditor}\r\n        data=\"<p>Hello from CKEditor 5!</p>\"\r\n        onReady={editor => {\r\n          // You can store the \"editor\" and use when it is needed.\r\n          console.log('Editor is ready to use!', editor);\r\n        }}\r\n        onChange={(event, editor) => {\r\n          const data = editor.getData();\r\n          console.log({ event, editor, data });\r\n        }}\r\n        onBlur={(event, editor) => {\r\n          console.log('Blur.', editor);\r\n        }}\r\n        onFocus={(event, editor) => {\r\n          console.log('Focus.', editor);\r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default About","import { connect } from 'react-redux'\r\nimport { toggleLoading } from '../redux/actions/webActions'\r\n\r\nconst LoadingSelector = (props) => {\r\n  \r\n  return (\r\n    <div id='page-loading' style={{display: props.web.loading ? 'block' : 'none'}}>\r\n      <img src='./images/loading.gif' />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    web: state.web\r\n  }\r\n}\r\n\r\nconst mapActionToProps = {\r\n  toggleLoading\r\n}\r\n\r\nconst Loading = connect(mapStateToProps, mapActionToProps)(LoadingSelector)\r\nexport default Loading\r\n","import * as ActionTypes from './actions/config'\r\nvar initState = {\r\n    logged: localStorage.getItem('logged'),\r\n    user: {\r\n        firstName: localStorage.getItem('firstName'),\r\n        lastName: localStorage.getItem('lastName'),\r\n        userId: localStorage.getItem('userId'),\r\n        userImage: localStorage.getItem('userImage'),\r\n        userBio: localStorage.getItem('userBio')\r\n    },\r\n    loading: false\r\n}\r\n\r\nconst reducer = (state = initState, action) => {\r\n    // if(action.type === ActionTypes.UPDATE_USER) {\r\n    //     const { firstName, lastName, logged, _id, avatar } = action.payload\r\n    //     return {\r\n    //         ...state,\r\n    //         user: {\r\n    //             firstName,\r\n    //             lastName,\r\n    //             _id,\r\n    //         },\r\n    //         logged\r\n    //     }\r\n    // }\r\n    if(action.type === ActionTypes.GET_USERINFO) {\r\n        const userId = localStorage.getItem('userId')\r\n        const logged = localStorage.getItem('logged')\r\n        const firstName = localStorage.getItem('firstName')\r\n        const lastName = localStorage.getItem('lastName')\r\n        const userImage = localStorage.getItem('userImage')\r\n        const userBio = localStorage.getItem('userBio')\r\n\r\n        return {\r\n            ...state,\r\n            user: {\r\n                firstName,\r\n                lastName,\r\n                userId,\r\n                userImage,\r\n                userBio\r\n            },\r\n            logged\r\n        }\r\n    }\r\n    if(action.type === ActionTypes.TOGGLE_LOADING) {\r\n        const { loading } = state\r\n        return {\r\n            ...state,\r\n            loading: !loading\r\n        }\r\n    }\r\n    return state\r\n}\r\n\r\nexport default reducer","import { createStore, combineReducers } from 'redux'\r\n\r\nimport reducer from './reducer'\r\n\r\nconst indexRuducer = combineReducers({\r\n  web: reducer\r\n})\r\n\r\nexport default createStore(indexRuducer)","import {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\"\nimport { io } from 'socket.io-client'\nimport { useEffect } from 'react'\n\nimport './static/styles/main.css'\nimport './static/styles/header.css'\nimport './static/styles/footer.css'\nimport './static/styles/sign-in.css'\nimport './static/styles/home.css'\nimport './static/styles/post.css'\nimport './static/styles/post_detail.css'\nimport './static/styles/create.css'\nimport './static/styles/me.css'\nimport './static/styles/about.css'\nimport './static/styles/responsive.css'\n\n\nimport Home from './pages/home'\nimport Post from './pages/post'\nimport Post2 from './pages/me/post'\nimport SignIn from './pages/sign-in'\nimport SignUp from './pages/sign-up'\nimport Me from './pages/me'\nimport Detail from './pages/detail_post'\nimport Create from './pages/create'\nimport Update from './pages/update'\nimport Search from './pages/search'\nimport About from './pages/about'\nimport Loading from './components/Loading'\n\nimport store from './redux/store'\nimport { Provider } from 'react-redux'\n\n\n// const socket = io('https://manhbui-testdeploy-mblog.herokuapp.com')\n\nfunction App() {\n  // useEffect(() => {\n  //   socket.emit('chat message', 'chatting');\n  //   socket.on('rep', (data) => {\n  //     console.log(data)\n  //   })\n  // }, [])\n\n  return (\n    <Provider store={store}>\n      <Router>\n        <div className='myblog'>\n          <Loading />\n          <div className='container'>\n            <Switch>\n              <Route path=\"/sign-in\">\n                <SignIn />\n              </Route>\n              <Route path=\"/sign-up\">\n                <SignUp />\n              </Route>\n              <Route path=\"/me\">\n                <Me />\n              </Route>\n              <Route axact path=\"/posts/update/:postId\">\n                <Update />\n              </Route>\n              <Route axact path=\"/posts/create\">\n                <Create />\n              </Route>\n              <Route path=\"/posts/me\">\n                <Post2 />\n              </Route>\n              <Route path=\"/posts/:title\">\n                <Detail />\n              </Route>\n              <Route axact path=\"/posts\">\n                <Post />\n              </Route>\n              <Route axact path=\"/about\">\n                <About />\n              </Route>\n              <Route axact path=\"/search\">\n                <Search />\n              </Route>\n              <Route exact path=\"/\">\n                <Home />\n              </Route>\n            </Switch>\n          </div>\n        </div>\n      </Router>\n    </Provider>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}